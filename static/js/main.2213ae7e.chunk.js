(this["webpackJsonpjson-schema-editor"]=this["webpackJsonpjson-schema-editor"]||[]).push([[0],{149:function(e,t,i){"use strict";i.r(t);i(69);var n,r=i(1),a=i.n(r),c=i(24),s=i.n(c),l=i(10),d=i(11),o=i(13),h=i(12),u=i(162),p=i(77),m=i.n(p),j=i(91),b=i(92),O=i.n(b),f=i(93),x=i(94),F=i(97),v=i(161),g=i(3),y=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return t in e.mappedKeyId||(e.mappedKeyId[t]=0),e.mappedKeyId[t]++,e.mappedKeyId[t]}}]),e}();function N(e,t){return void 0===e?t:e}function S(e,t,i){var n=i.value;return i.value=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=n.apply(this,t);return r&&r instanceof Object?Object(g.a)({},r):r},i}y.mappedKeyId={},function(e){e.Array="array",e.Boolean="boolean",e.Integer="integer",e.Number="number",e.Object="object",e.String="string",e.Null="null"}(n||(n={}));var R,C,M=i(156),k=i(98),T=i(159),D=i(154),E=i(15),I=(R=function(){function e(){Object(l.a)(this,e),this.type=void 0,this.currentField=void 0,this.defaultField=void 0}return Object(d.a)(e,[{key:"recordField",value:function(e,t){switch(typeof this.currentField[e]){case"string":this.currentField[e]=t.target.value.toString();break;case"boolean":this.currentField[e]=t.target.checked;break;case"number":this.currentField[e]=parseInt(t.target.value)}return this.currentField}},{key:"getDefaultField",value:function(){return this.defaultField}},{key:"getCurrentField",value:function(){return this.currentField}},{key:"getGenericSchemaFromField",value:function(e){var t={};return e.title&&""!==e.title&&(t.title=e.title),e.description&&""!==e.description&&(t.description=e.description),e.$comment&&""!==e.$comment&&(t.$comment=e.$comment),t}},{key:"getGenericFieldFromSchema",value:function(e,t){var i;return void 0===e&&(e={}),i=void 0===t?{type:this.type,required:!0,name:"Field_".concat(y.next("Field"))}:Object(g.a)({type:this.type},t),{type:this.type,required:i.required,name:i.name,title:N(e.title,N(i.title,"")),description:N(e.description,N(i.description,"")),$comment:N(e.$comment,N(i.$comment,""))}}},{key:"retrieveDefaultOptionValue",value:function(e,t,i){return i&&e in i&&void 0!==i[e]?i[e]:t}},{key:"retrieveDefaultOptionValue_code",value:function(e,t){return t&&e in t&&void 0!==t[e]?JSON.stringify(t[e],null,4):""}},{key:"exportSchemaWithoutUndefined",value:function(e,t){var i={};return"number"===typeof t&&isNaN(t)?isNaN(this.currentField[e])||(i[e]=this.currentField[e]):this.currentField[e]!==t&&(i[e]=this.currentField[e]),i}},{key:"exportSchemaWithoutUndefined_code",value:function(e){var t={},i=this.currentField[e];if(0===i.length)return{};var n=JSON.parse(i);return Array.isArray(n)&&0===n.length||"object"===typeof n&&0===Object.keys(n).length||(t[e]=n),t}}]),e}(),Object(E.a)(R.prototype,"recordField",[S],Object.getOwnPropertyDescriptor(R.prototype,"recordField"),R.prototype),Object(E.a)(R.prototype,"getDefaultField",[S],Object.getOwnPropertyDescriptor(R.prototype,"getDefaultField"),R.prototype),Object(E.a)(R.prototype,"getCurrentField",[S],Object.getOwnPropertyDescriptor(R.prototype,"getCurrentField"),R.prototype),R),w=(C=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Array,a.currentField=void 0,a.defaultField=void 0,a.childrenProperty=void 0;var c=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},c),{},{const:a.retrieveDefaultOptionValue_code("const",e),default:a.retrieveDefaultOptionValue_code("default",e),minItems:a.retrieveDefaultOptionValue("minItems",NaN,e),maxItems:a.retrieveDefaultOptionValue("maxItems",NaN,e),uniqueItems:a.retrieveDefaultOptionValue("uniqueItems",!1,e)}),a.currentField=Object(g.a)({},a.defaultField),e&&(a.childrenProperty=a.generateChildrenPropertyFromSchema(e)),a}return Object(d.a)(i,[{key:"recordCode",value:function(e,t){return this.currentField[e]=t,this.currentField}},{key:"generateChildrenPropertyFromSchema",value:function(e){return e.items?e.items instanceof Array?e.items.map((function(e){return{type:e.type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,ref:a.a.createRef(),field:{name:"items",required:!0},schema:e}})):[{type:e.type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,ref:a.a.createRef(),field:{name:"items",required:!0},schema:e.items}]:[]}},{key:"resetOptionField",value:function(){return this.currentField.const=this.defaultField.const,this.currentField.default=this.defaultField.default,this.currentField.maxItems=this.defaultField.maxItems,this.currentField.minItems=this.defaultField.minItems,this.currentField.uniqueItems=this.defaultField.uniqueItems,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.const="",this.currentField.default="",this.currentField.maxItems=NaN,this.currentField.minItems=NaN,this.currentField.uniqueItems=!1,this.currentField}},{key:"exportSchema",value:function(e){var t,i=n.Array,r=this.getGenericSchemaFromField(this.currentField),a=this.currentField.uniqueItems,c=this.exportSchemaWithoutUndefined("minItems",NaN),s=this.exportSchemaWithoutUndefined("maxItems",NaN),l=this.exportSchemaWithoutUndefined_code("const"),d=this.exportSchemaWithoutUndefined_code("default");return e&&(1===e.length?t=e[0].value:e.length>1&&(t=e.map((function(e){return e.value})))),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:i},r),c),s),{},{uniqueItems:a,items:t},l),d)}}]),i}(I),Object(E.a)(C.prototype,"recordCode",[S],Object.getOwnPropertyDescriptor(C.prototype,"recordCode"),C.prototype),Object(E.a)(C.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(C.prototype,"resetOptionField"),C.prototype),Object(E.a)(C.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(C.prototype,"clearOptionField"),C.prototype),C),_=i(95),A=i.n(_),P=i(96),L=i(157),G=i(52),U=i(2);i(146),i(147);var V,W,B,q=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={isShowModal:!1},n}return Object(d.a)(i,[{key:"setDisplayCodeModal",value:function(e){this.setState({isShowModal:e})}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(P.a,{type:"text",onChange:function(t){e.props.update(t.target.value)},value:this.props.value}),Object(U.jsx)(D.a.Append,{children:Object(U.jsx)(F.a,{variant:"outline-primary",onClick:this.setDisplayCodeModal.bind(this,!0),children:Object(U.jsx)(G.a,{})})}),Object(U.jsxs)(L.a,{onHide:this.setDisplayCodeModal.bind(this,!1),show:this.state.isShowModal,size:"lg","aria-labelledby":"code-modal",centered:!0,children:[Object(U.jsx)(L.a.Header,{closeButton:!0,children:Object(U.jsx)(L.a.Title,{id:"code-modal",children:this.props.title})}),Object(U.jsx)(L.a.Body,{children:Object(U.jsx)(T.a.Group,{children:Object(U.jsx)(A.a,{placeholder:"Placeholder Text",width:"100%",mode:"json",theme:"terminal",name:"Code",onChange:function(t){e.props.update(t)},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.props.value,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:4}})})})]})]})}}]),i}(a.a.Component),J=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={isOptionModalShow:!1},n}return Object(d.a)(i,[{key:"setDisplayOptionModal",value:function(e){this.setState({isOptionModalShow:e})}},{key:"render",value:function(){return Object(U.jsxs)(L.a,{onHide:this.setDisplayOptionModal.bind(this,!1),show:this.state.isOptionModalShow,size:"lg","aria-labelledby":"option-modal",centered:!0,children:[Object(U.jsx)(L.a.Header,{closeButton:!0,children:Object(U.jsx)(L.a.Title,{id:"option-modal",children:"Advanced Options"})}),Object(U.jsx)(L.a.Body,{children:this.props.children}),Object(U.jsxs)(L.a.Footer,{children:[Object(U.jsx)(F.a,{variant:"outline-secondary",onClick:this.props.clearOptionFieldForm,children:"Clear"}),Object(U.jsx)(F.a,{variant:"outline-primary",onClick:this.props.resetOptionFiledForm,children:"Reset"}),Object(U.jsx)(F.a,{variant:"outline-success",onClick:this.setDisplayOptionModal.bind(this,!1),children:"Close"})]})]})}}]),i}(a.a.Component),X=i(160),H=i(163),K=i(155),$=i(64),z=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(l.a)(this,i),n=t.call(this,e);var r=e.schemaType.getDefaultField();return n.state={currentField:r,isRequiredFieldReadonly:N(n.props.options.isRequiredFieldReadonly,!1),isNameFieldReadonly:N(n.props.options.isNameFieldReadonly,!1),isDescriptionModalShow:!1,isCommentFieldShow:!1},n}return Object(d.a)(i,[{key:"recordField",value:function(e,t){var i=this.props.schemaType.recordField(e,t);this.setState({currentField:i})}},{key:"changeType",value:function(e){e.preventDefault();var t=e.target.value;Object.values(n).includes(t)&&this.props.changeType(t)}},{key:"changeName",value:function(e){this.recordField("name",e),this.props.changeName&&this.props.changeName()}},{key:"setDisplayDescriptionModal",value:function(e){this.setState({isDescriptionModalShow:e})}},{key:"render",value:function(){return Object(U.jsx)(X.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:3,children:Object(U.jsxs)(D.a,{children:[Object(U.jsx)(H.a,{trigger:["hover","focus"],overlay:Object(U.jsx)(K.a,{id:"add-tooltip",children:" Required "}),children:Object(U.jsx)(D.a.Prepend,{children:Object(U.jsx)(D.a.Checkbox,{checked:this.state.currentField.required,disabled:this.state.isRequiredFieldReadonly,onChange:this.recordField.bind(this,"required")})})}),Object(U.jsx)(T.a.Control,{placeholder:"items",readOnly:this.state.isNameFieldReadonly,value:this.state.currentField.name,onChange:this.changeName.bind(this)})]})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsxs)(T.a.Control,{as:"select",custom:!0,placeholder:"DataType",onChange:this.changeType.bind(this),value:this.state.currentField.type,children:[Object(U.jsx)("option",{value:n.Object,children:"Object"}),Object(U.jsx)("option",{value:n.Array,children:"Array"}),Object(U.jsx)("option",{value:n.String,children:"String"}),Object(U.jsx)("option",{value:n.Integer,children:"Integer"}),Object(U.jsx)("option",{value:n.Number,children:"Number"}),Object(U.jsx)("option",{value:n.Null,children:"Null"}),Object(U.jsx)("option",{value:n.Boolean,children:"Boolean"})]})}),Object(U.jsx)(k.a,{lg:4,children:Object(U.jsx)(T.a.Control,{placeholder:"Titile",value:this.state.currentField.title,onChange:this.recordField.bind(this,"title")})}),Object(U.jsxs)(k.a,{lg:4,children:[Object(U.jsxs)(D.a,{children:[Object(U.jsx)(P.a,{type:"text",id:"Description",placeholder:"Description",value:this.state.currentField.description,onChange:this.recordField.bind(this,"description")}),Object(U.jsx)(H.a,{trigger:["hover","focus"],overlay:Object(U.jsx)(K.a,{id:"add-tooltip",children:" Edit "}),children:Object(U.jsx)(D.a.Append,{children:Object(U.jsx)(F.a,{variant:"outline-primary",onClick:this.setDisplayDescriptionModal.bind(this,!0),children:Object(U.jsx)(G.a,{})})})})]}),Object(U.jsxs)(L.a,{onHide:this.setDisplayDescriptionModal.bind(this,!1),show:this.state.isDescriptionModalShow,size:"lg","aria-labelledby":"description-modal",centered:!0,children:[Object(U.jsx)(L.a.Header,{closeButton:!0,children:Object(U.jsx)(L.a.Title,{id:"description-modal",children:"Description"})}),Object(U.jsx)(L.a.Body,{children:Object(U.jsx)(T.a.Group,{children:Object(U.jsx)(T.a.Control,{as:"textarea",rows:3,value:this.state.currentField.description,onChange:this.recordField.bind(this,"description")})})})]})]}),Object(U.jsx)(k.a,{lg:12,style:{paddingTop:"5px"},children:Object(U.jsx)(X.a.Collapse,{eventKey:"0",children:Object(U.jsx)(T.a.Control,{placeholder:"$comment",value:this.state.currentField.$comment,onChange:this.recordField.bind(this,"$comment")})})})]})}),Object(U.jsx)(k.a,{lg:"auto",style:{cursor:"pointer"},children:Object(U.jsx)(X.a.Toggle,{eventKey:"0",as:"span",className:"node-option-block",children:Object(U.jsx)($.a,{color:"blue"})})})]})})}}]),i}(a.a.Component);!function(e){e.DUPLICATED_FIELD_NAME="Find duplicated field name",e.CANT_PARSE_JSON_CONST="Invalid JSON in const field",e.CANT_PARSE_JSON_DEFAULT="Invalid JSON in default field"}(V||(V={})),function(e){e.MIN_GT_MAX_ITEMS="Min Items > Max Items",e.MIN_GT_MAX_VALUE="Min Value > Max Value",e.MIN_GT_MAX_PROPERTIES="Min Properties > Max Properties",e.MIN_GT_MAX_LENGTH="Min Length > Max Length"}(W||(W={})),function(e){e.ARRAY_ITEM_INDEX_MATTER="Ordinal index of each item under Array type is meaningful"}(B||(B={}));var Y=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={error:new Set,info:new Set,warn:new Set},n}return Object(d.a)(i,[{key:"add",value:function(e){i.isWarnText(e)?this.state.warn.has(e)||this._addHint("warn",e):i.isInfoText(e)?this.state.info.has(e)||this._addHint("info",e):i.isErrorText(e)&&(this.state.error.has(e)||this._addHint("error",e))}},{key:"remove",value:function(e){i.isWarnText(e)?this.state.warn.has(e)&&this._removeHint("warn",e):i.isInfoText(e)?this.state.info.has(e)&&this._removeHint("info",e):i.isErrorText(e)&&this.state.error.has(e)&&this._removeHint("error",e)}},{key:"get",value:function(e){switch(e){case"warn":return Array.from(this.state.warn);case"error":return Array.from(this.state.error);case"info":return Array.from(this.state.info)}}},{key:"_addHint",value:function(e,t){"warn"===e?this.state.warn.add(t):"info"===e?this.state.info.add(t):"error"===e&&this.state.error.add(t),this.setState(this.state)}},{key:"_removeHint",value:function(e,t){"warn"===e?this.state.warn.delete(t):"info"===e?this.state.info.delete(t):"error"===e&&this.state.error.delete(t),this.setState(this.state)}},{key:"render",value:function(){var e,t=[],i={error:"red",info:"green",warn:"orange"},n=0;for(e in this.state)this.state[e].forEach((function(r){n>0&&t.push(Object(U.jsx)("br",{})),n++,t.push(Object(U.jsxs)("span",{style:{color:i[e]},children:[Object(U.jsxs)("b",{children:["".concat(e.charAt(0).toUpperCase()).concat(e.substring(1)),": "]}),r]},y.next()))}));return Object(U.jsx)(U.Fragment,{children:t})}}],[{key:"isWarnText",value:function(e){return Object.values(W).includes(e)}},{key:"isInfoText",value:function(e){return Object.values(B).includes(e)}},{key:"isErrorText",value:function(e){return Object.values(V).includes(e)}}]),i}(a.a.Component),Q=i(158),Z=i(31),ee=a.a.forwardRef((function(e,t){return Object(U.jsx)("span",{ref:t,id:e.id,onClick:e.onClick,children:Object(U.jsx)(Z.b,{color:"green"})})}));ee.displayName="ToggleAddButton";var te=function(e){if(e.buttonOptions.hasChild&&!e.addChild)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.hasChild = true, without addChild()");if(e.buttonOptions.hasSibling&&!e.addSibling)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.hasSibling = true, without addSibling()");if(e.buttonOptions.isDeleteable&&!e.delete)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.isDeleteable = true, without delete()");var t=y.next("Key").toString(),i=y.next("Key").toString();return Object(U.jsxs)("div",{className:"node-option-block",children:[e.buttonOptions.hasChild&&e.buttonOptions.hasSibling&&Object(U.jsx)("div",{className:"node-option-btn-block",children:Object(U.jsxs)(Q.a,{children:[Object(U.jsx)(Q.a.Toggle,{as:ee,id:t}),Object(U.jsxs)(Q.a.Menu,{children:[Object(U.jsx)(Q.a.Item,{href:"#",eventKey:"1",onClick:e.addSibling,children:"Add Sibling"}),Object(U.jsx)(Q.a.Item,{href:"#",eventKey:"2",onClick:e.addChild,children:"Add Child"})]})]})}),e.buttonOptions.hasChild!==e.buttonOptions.hasSibling&&Object(U.jsx)("div",{className:"node-option-btn-block",onClick:e.buttonOptions.hasChild?e.addChild:e.addSibling,children:Object(U.jsx)(H.a,{trigger:["hover","focus"],overlay:Object(U.jsx)(K.a,{id:i,children:" Add "}),children:Object(U.jsx)("span",{children:Object(U.jsx)(Z.b,{color:"green"})})})}),e.buttonOptions.isDeleteable&&Object(U.jsx)("div",{className:"node-option-btn-block",onClick:e.delete,children:Object(U.jsx)(H.a,{trigger:["hover","focus"],overlay:Object(U.jsx)(K.a,{id:"delete-tooltip",children:" Delete "}),children:Object(U.jsx)("span",{children:Object(U.jsx)(Z.c,{color:"red"})})})}),e.buttonOptions.isOptionExist&&Object(U.jsx)("div",{className:"node-option-btn-block",onClick:e.showOptionModal,children:Object(U.jsx)(H.a,{trigger:["hover","focus"],overlay:Object(U.jsx)(K.a,{id:"option-tooltip",children:" Option "}),children:Object(U.jsx)("span",{children:Object(U.jsx)($.b,{})})})})]})};var ie,ne,re,ae,ce,se,le=function(e){return Object(U.jsx)(k.a,{lg:"auto",className:"px-0 mx-0",style:{width:(15*e.depth).toString()+"px"}})},de={Warn:W,Info:B,Error:V},oe=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(l.a)(this,i),(n=t.call(this,e)).hintTextRef=void 0,n.hintTextRef=a.a.createRef();var r=N(e.childrenProperty,[]);return n.state={children:r},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){this.props.childrenDidUpdate&&this.props.childrenDidUpdate(this.state.children),this.checkDuplicateChildrenName()}},{key:"componentDidUpdate",value:function(){this.props.childrenDidUpdate&&this.props.childrenDidUpdate(this.state.children),this.checkDuplicateChildrenName()}},{key:"length",get:function(){return this.state.children.length}},{key:"exportSchema",value:function(){var e,t;if(null===(e=this.hintTextRef.current)||void 0===e?void 0:e.get("error").length)throw new Error(JSON.stringify(null===(t=this.hintTextRef.current)||void 0===t?void 0:t.get("error")));return this.state.children.map((function(e){var t=e.ref.current;return{name:t.getField().name,value:t.exportSchema(),required:t.getField().required}}))}},{key:"add",value:function(e,t){var i,r=this.state.children,c={type:n.Object,isDeleteable:!0,hasSibling:!0,isRequiredFieldReadonly:!1,isNameFieldReadonly:!1};t&&(c=Object(g.a)(Object(g.a)({},c),t)),i=void 0===e||""===e?r.length+1:r.findIndex((function(t){return t.selfId===e})),r.splice(i+1,0,Object(g.a)(Object(g.a)({selfId:y.next("child").toString()},c),{},{ref:a.a.createRef()})),this.setState({children:r})}},{key:"delete",value:function(e){var t=this.state.children,i=t.findIndex((function(t){return t.selfId===e}));t.splice(i,1),this.setState({children:t})}},{key:"checkDuplicateChildrenName",value:function(){var e,t;this.findNameDuplicate()?null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Error.DUPLICATED_FIELD_NAME):null===(t=this.hintTextRef.current)||void 0===t||t.remove(de.Error.DUPLICATED_FIELD_NAME)}},{key:"changeType",value:function(e,t){this.setState((function(i){return{children:i.children.map((function(i){return i.selfId===e?Object(g.a)(Object(g.a)({},i),{},{selfId:y.next("child").toString(),type:t}):i}))}}))}},{key:"findNameDuplicate",value:function(){if(this.props.isNameUnique){var e=this.state.children.map((function(e){return e.ref.current.schema.getCurrentField().name}));return new Set(e).size!==e.length}return!1}},{key:"render",value:function(){var e=this;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),this.state.children.map((function(t){return Object(U.jsx)(ke,Object(g.a)(Object(g.a)({depth:e.props.depth+1},t),{},{delete:e.delete.bind(e,t.selfId),addSibling:e.add.bind(e,t.selfId),changeType:e.changeType.bind(e,t.selfId),changeName:e.checkDuplicateChildrenName.bind(e)}),t.selfId)}))]})}}]),i}(a.a.Component),he=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(l.a)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).optionsButtonsAttr=void 0,e.genericFieldOptions=void 0,e.schema=void 0,e.optionModalRef=void 0,e.genericFieldRef=void 0,e.childrenRef=void 0,e}return Object(d.a)(i,[{key:"addChild",value:function(){this.childrenRef&&this.childrenRef.current&&this.childrenRef.current.add()}},{key:"addSibling",value:function(){this.props.addSibling&&this.props.addSibling()}},{key:"delete",value:function(){this.props.delete&&this.props.delete()}},{key:"getField",value:function(){return this.schema.getCurrentField()}},{key:"recordField",value:function(e,t){var i=this.schema.recordField(e,t);this.setState({currentField:i})}},{key:"showOptionModal",value:function(){this.optionModalRef&&this.optionModalRef.current&&this.optionModalRef.current.setDisplayOptionModal(!0)}},{key:"clearOptionField",value:function(){var e=this.schema.clearOptionField();this.setState({currentField:e})}},{key:"resetOptionField",value:function(){var e=this.schema.resetOptionField();this.setState({currentField:e})}}]),i}(a.a.Component),ue=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.childrenRef=void 0,n.hintTextRef=void 0,n.childrenLength=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.childrenRef=a.a.createRef(),n.hintTextRef=a.a.createRef(),n.schema=new w(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!0,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.childrenLength=0,n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e;(this.props.schema||this.addChild(),this.state.currentField.maxItems<this.state.currentField.minItems)&&(null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Warn.MIN_GT_MAX_ITEMS))}},{key:"componentDidUpdate",value:function(e,t){var i,n;(t.currentField.maxItems===this.state.currentField.maxItems||isNaN(t.currentField.maxItems)&&isNaN(this.state.currentField.maxItems))&&(t.currentField.minItems===this.state.currentField.minItems||isNaN(t.currentField.minItems)&&isNaN(this.state.currentField.minItems))||(this.state.currentField.maxItems<this.state.currentField.minItems?null===(i=this.hintTextRef.current)||void 0===i||i.add(de.Warn.MIN_GT_MAX_ITEMS):null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Warn.MIN_GT_MAX_ITEMS))}},{key:"childrenDidUpdate",value:function(e){if(this.childrenLength!==e.length){var t,i;if(e.length>1)null===(t=this.hintTextRef.current)||void 0===t||t.add(de.Info.ARRAY_ITEM_INDEX_MATTER);else null===(i=this.hintTextRef.current)||void 0===i||i.remove(de.Info.ARRAY_ITEM_INDEX_MATTER);this.childrenLength=e.length}}},{key:"addChild",value:function(){this.childrenRef.current.add("",{type:n.Object,isDeleteable:!0,hasSibling:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,field:{name:"items",required:!0}})}},{key:"exportSchema",value:function(){return this.schema.exportSchema(this.childrenRef.current.exportSchema())}},{key:"recordCode",value:function(e,t){var i,n,r,a,c=this.schema.recordCode(e,t);this.setState({currentField:c});try{switch(0!==t.length&&JSON.parse(t),e){case"const":null===(i=this.hintTextRef.current)||void 0===i||i.remove(de.Error.CANT_PARSE_JSON_CONST);break;case"default":null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Error.CANT_PARSE_JSON_DEFAULT)}}catch(s){switch(e){case"const":null===(r=this.hintTextRef.current)||void 0===r||r.add(de.Error.CANT_PARSE_JSON_CONST);break;case"default":null===(a=this.hintTextRef.current)||void 0===a||a.add(de.Error.CANT_PARSE_JSON_DEFAULT)}}}},{key:"render",value:function(){return Object(U.jsxs)("div",{className:"my-1",children:[Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsxs)(k.a,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MinItems",children:"Min Items"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MinItems",value:this.state.currentField.minItems,onChange:this.recordField.bind(this,"minItems")})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MaxItems",children:"Max Items"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MaxItems",value:this.state.currentField.maxItems,onChange:this.recordField.bind(this,"maxItems")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Constant",children:"Constant"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(D.a,{children:Object(U.jsx)(q,{title:"Array constant",value:this.state.currentField.const,update:this.recordCode.bind(this,"const")})})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(D.a,{children:Object(U.jsx)(q,{title:"Array default",value:this.state.currentField.default,update:this.recordCode.bind(this,"default")})})})]}),Object(U.jsx)(T.a.Group,{children:Object(U.jsxs)(T.a.Check,{type:"checkbox",id:"uniqueCheckbox",children:[Object(U.jsx)(T.a.Check.Input,{type:"checkbox",checked:this.state.currentField.uniqueItems,onChange:this.recordField.bind(this,"uniqueItems")}),Object(U.jsx)(T.a.Check.Label,{children:"Unique Items"})]})})]})})]})})]})]}),Object(U.jsx)(oe,{ref:this.childrenRef,depth:this.props.depth,isNameUnique:!1,childrenProperty:this.schema.childrenProperty,childrenDidUpdate:this.childrenDidUpdate.bind(this)})]})}}]),i}(he),pe=(ie=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Boolean,a.currentField=void 0,a.defaultField=void 0;var c=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},c),{},{default:a.retrieveDefaultOptionValue("default",void 0,e),const:a.retrieveDefaultOptionValue("const",void 0,e)}),a.currentField=Object(g.a)({},a.defaultField),a}return Object(d.a)(i,[{key:"isSelectElement",value:function(e){return void 0!==e.target.selectedIndex}},{key:"recordField",value:function(e,t){return!this.isSelectElement(t)||"default"!==e&&"const"!==e?this.isSelectElement(t)||I.prototype.recordField.call(this,e,t):this.currentField[e]="true"===t.target.value.toLowerCase(),this.currentField}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=void 0,this.currentField}},{key:"exportSchema",value:function(){var e=n.Boolean,t=this.getGenericSchemaFromField(this.currentField),i=this.exportSchemaWithoutUndefined("default",void 0),r=this.exportSchemaWithoutUndefined("const",void 0);return Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),i),r)}}]),i}(I),Object(E.a)(ie.prototype,"recordField",[S],Object.getOwnPropertyDescriptor(ie.prototype,"recordField"),ie.prototype),Object(E.a)(ie.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(ie.prototype,"resetOptionField"),ie.prototype),Object(E.a)(ie.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(ie.prototype,"clearOptionField"),ie.prototype),ie),me=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.schema=new pe(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"render",value:function(){return Object(U.jsx)("div",{className:"my-1",children:Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsx)(k.a,{children:Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"default",children:"Default"}),Object(U.jsx)(k.a,{lg:4,children:Object(U.jsxs)(T.a.Control,{as:"select",custom:!0,onChange:this.recordField.bind(this,"default"),value:void 0===this.state.currentField.default?"undefined":this.state.currentField.default.toString(),children:[Object(U.jsx)("option",{disabled:!0,hidden:!0,selected:void 0===this.state.currentField.default,value:"undefined",children:" "}),Object(U.jsx)("option",{value:"true",children:"True"}),Object(U.jsx)("option",{value:"false",children:"False"})]})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(U.jsx)(k.a,{lg:4,children:Object(U.jsxs)(T.a.Control,{as:"select",custom:!0,onChange:this.recordField.bind(this,"const"),value:void 0===this.state.currentField.const?"undefined":this.state.currentField.const.toString(),children:[Object(U.jsx)("option",{disabled:!0,hidden:!0,selected:void 0===this.state.currentField.const,value:"undefined",children:" "}),Object(U.jsx)("option",{value:"true",children:"True"}),Object(U.jsx)("option",{value:"false",children:"False"})]})})]})})})]})})})]})})}}]),i}(he),je=i(30),be=(ne=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Integer,a.currentField=void 0,a.defaultField=void 0;var c,s,d,o,h=a.getGenericFieldFromSchema(e,r);return e?(e.minimum?(c=e.minimum,d=!1):e.exclusiveMinimum?(c=e.exclusiveMinimum,d=!0):(c=NaN,d=!1),e.maximum?(s=e.maximum,o=!1):e.exclusiveMaximum?(s=e.exclusiveMaximum,o=!0):(s=NaN,o=!1)):(c=s=NaN,d=o=!1),a.defaultField=Object(g.a)(Object(g.a)({},h),{},{default:a.retrieveDefaultOptionValue("default",NaN,e),const:a.retrieveDefaultOptionValue("const",NaN,e),enum:a.retrieveDefaultOptionValue("enum",[],e),multipleOf:a.retrieveDefaultOptionValue("multipleOf",NaN,e),minimum:c,maximum:s,exclusiveMinimum:d,exclusiveMaximum:o}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(je.a)(a.defaultField.enum)}),a}return Object(d.a)(i,[{key:"addEnum",value:function(){this.currentField.enum.push(NaN)}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=parseInt(t.target.value)}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(je.a)(this.defaultField.enum),this.currentField.minimum=this.defaultField.minimum,this.currentField.maximum=this.defaultField.maximum,this.currentField.exclusiveMinimum=this.defaultField.exclusiveMinimum,this.currentField.exclusiveMaximum=this.defaultField.exclusiveMaximum,this.currentField.multipleOf=this.defaultField.multipleOf,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=NaN,this.currentField.const=NaN,this.currentField.enum=[],this.currentField.minimum=NaN,this.currentField.maximum=NaN,this.currentField.exclusiveMinimum=!1,this.currentField.exclusiveMaximum=!1,this.currentField.multipleOf=NaN,this.currentField}},{key:"exportSchema",value:function(){var e=n.Integer,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return!isNaN(e)})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",NaN),c=this.exportSchemaWithoutUndefined("const",NaN),s=this.exportSchemaWithoutUndefined("multipleOf",NaN),l={},d={};return isNaN(this.currentField.minimum)||(l=this.currentField.exclusiveMinimum?{exclusiveMinimum:this.currentField.minimum}:{minimum:this.currentField.minimum}),isNaN(this.currentField.maximum)||(d=this.currentField.exclusiveMaximum?{exclusiveMaximum:this.currentField.maximum}:{maximum:this.currentField.maximum}),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),l),d),a),c),s),r)}}]),i}(I),Object(E.a)(ne.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(ne.prototype,"resetOptionField"),ne.prototype),Object(E.a)(ne.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(ne.prototype,"clearOptionField"),ne.prototype),ne),Oe=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){var e=this;return Object(U.jsx)(T.a.Group,{children:this.props.value.length>0?this.props.value.map((function(t,i){return Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:0===i?"Enum":""}),Object(U.jsx)(k.a,{lg:e.props.width,children:i===e.props.value.length-1?Object(U.jsxs)(D.a,{children:[Object(U.jsx)(P.a,{type:e.props.type,id:i.toString(),onChange:e.props.update.bind(e,i),value:t}),Object(U.jsx)(D.a.Append,{children:Object(U.jsx)(F.a,{variant:"outline-danger",onClick:e.props.delete.bind(e,i),children:Object(U.jsx)(Z.a,{})})}),Object(U.jsx)(D.a.Append,{children:Object(U.jsx)(F.a,{variant:"outline-success",onClick:e.props.add,children:Object(U.jsx)(Z.b,{})})})]}):Object(U.jsxs)(D.a,{children:[Object(U.jsx)(P.a,{type:e.props.type,id:i.toString(),onChange:e.props.update.bind(e,i),value:t}),Object(U.jsx)(D.a.Append,{children:Object(U.jsx)(F.a,{variant:"outline-danger",onClick:e.props.delete.bind(e,i),children:Object(U.jsx)(Z.a,{})})})]})})]},i)})):Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Enum"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(M.a,{children:Object(U.jsx)(k.a,{lg:"12",children:Object(U.jsx)(F.a,{variant:"outline-success",onClick:this.props.add.bind(this),children:Object(U.jsx)(Z.b,{color:"green"})})})})})]})})}}]),i}(a.a.Component),fe=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.hintTextRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.hintTextRef=a.a.createRef(),n.schema=new be(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e;this.state.currentField.minimum>this.state.currentField.maximum&&(null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Warn.MIN_GT_MAX_VALUE))}},{key:"componentDidUpdate",value:function(e,t){var i,n;(t.currentField.minimum===this.state.currentField.minimum||isNaN(t.currentField.minimum)&&isNaN(this.state.currentField.minimum))&&(t.currentField.maximum===this.state.currentField.maximum||isNaN(t.currentField.maximum)&&isNaN(this.state.currentField.maximum))||(this.state.currentField.maximum<this.state.currentField.minimum?null===(i=this.hintTextRef.current)||void 0===i||i.add(de.Warn.MIN_GT_MAX_VALUE):null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Warn.MIN_GT_MAX_VALUE))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(U.jsx)("div",{className:"my-1",children:Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsxs)(k.a,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"MinValue",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Min Value"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",value:this.state.currentField.minimum,onChange:this.recordField.bind(this,"minimum")})}),Object(U.jsx)(k.a,{lg:"6",children:Object(U.jsx)(T.a.Check,{id:"ExclusiveMin",inline:!0,onChange:this.recordField.bind(this,"exclusiveMinimum"),checked:!!this.state.currentField.exclusiveMinimum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"MaxValue",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Max Value"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",value:this.state.currentField.maximum,onChange:this.recordField.bind(this,"maximum")})}),Object(U.jsx)(k.a,{lg:"6",children:Object(U.jsx)(T.a.Check,{id:"ExclusiveMax",inline:!0,onChange:this.recordField.bind(this,"exclusiveMaximum"),checked:!!this.state.currentField.exclusiveMaximum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf",children:"Multiple Of"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"MultipleOf",value:this.state.currentField.multipleOf,onChange:this.recordField.bind(this,"multipleOf")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"const",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(U.jsx)(Oe,{width:4,type:"number",value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(he),xe=(re=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Null,a.currentField=void 0,a.defaultField=void 0;var c=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)({},c),a.currentField=Object(g.a)({},a.defaultField),a}return Object(d.a)(i,[{key:"resetOptionField",value:function(){return this.currentField}},{key:"clearOptionField",value:function(){return this.currentField}},{key:"exportSchema",value:function(){var e=n.Null,t=this.getGenericSchemaFromField(this.currentField);return Object(g.a)({type:e},t)}}]),i}(I),Object(E.a)(re.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(re.prototype,"resetOptionField"),re.prototype),Object(E.a)(re.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(re.prototype,"clearOptionField"),re.prototype),re),Fe=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.genericFieldRef=void 0,n.genericFieldRef=a.a.createRef(),n.schema=new xe(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!1},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"render",value:function(){return Object(U.jsx)("div",{className:"my-1",children:Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsx)(k.a,{children:Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})})]})})})]})})}}]),i}(he),ve=(ae=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Number,a.currentField=void 0,a.defaultField=void 0;var c,s,d,o,h=a.getGenericFieldFromSchema(e,r);return e?(e.minimum?(c=e.minimum,d=!1):e.exclusiveMinimum?(c=e.exclusiveMinimum,d=!0):(c=NaN,d=!1),e.maximum?(s=e.maximum,o=!1):e.exclusiveMaximum?(s=e.exclusiveMaximum,o=!0):(s=NaN,o=!1)):(c=s=NaN,d=o=!1),a.defaultField=Object(g.a)(Object(g.a)({},h),{},{default:a.retrieveDefaultOptionValue("default",NaN,e),const:a.retrieveDefaultOptionValue("const",NaN,e),enum:a.retrieveDefaultOptionValue("enum",[],e),multipleOf:a.retrieveDefaultOptionValue("multipleOf",NaN,e),minimum:c,maximum:s,exclusiveMinimum:d,exclusiveMaximum:o}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(je.a)(a.defaultField.enum)}),a}return Object(d.a)(i,[{key:"recordField",value:function(e,t){return"$comment"===e||"description"===e||"name"===e||"title"===e?this.currentField[e]=t.target.value:"const"===e||"default"===e||"maximum"===e||"minimum"===e||"multipleOf"===e?this.currentField[e]=parseFloat(t.target.value):"exclusiveMaximum"!==e&&"exclusiveMinimum"!==e&&"required"!==e||(this.currentField[e]=t.target.checked),this.currentField}},{key:"addEnum",value:function(){this.currentField.enum.push(NaN)}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=parseFloat(t.target.value)}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(je.a)(this.defaultField.enum),this.currentField.minimum=this.defaultField.minimum,this.currentField.maximum=this.defaultField.maximum,this.currentField.exclusiveMinimum=this.defaultField.exclusiveMinimum,this.currentField.exclusiveMaximum=this.defaultField.exclusiveMaximum,this.currentField.multipleOf=this.defaultField.multipleOf,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=NaN,this.currentField.const=NaN,this.currentField.enum=[],this.currentField.minimum=NaN,this.currentField.maximum=NaN,this.currentField.exclusiveMinimum=!1,this.currentField.exclusiveMaximum=!1,this.currentField.multipleOf=NaN,this.currentField}},{key:"exportSchema",value:function(){var e=n.Number,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return!isNaN(e)})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",NaN),c=this.exportSchemaWithoutUndefined("const",NaN),s=this.exportSchemaWithoutUndefined("multipleOf",NaN),l={},d={};return isNaN(this.currentField.minimum)||(l=this.currentField.exclusiveMinimum?{exclusiveMinimum:this.currentField.minimum}:{minimum:this.currentField.minimum}),isNaN(this.currentField.maximum)||(d=this.currentField.exclusiveMaximum?{exclusiveMaximum:this.currentField.maximum}:{maximum:this.currentField.maximum}),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),l),d),a),c),s),r)}}]),i}(I),Object(E.a)(ae.prototype,"recordField",[S],Object.getOwnPropertyDescriptor(ae.prototype,"recordField"),ae.prototype),Object(E.a)(ae.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(ae.prototype,"resetOptionField"),ae.prototype),Object(E.a)(ae.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(ae.prototype,"clearOptionField"),ae.prototype),ae),ge=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.hintTextRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.hintTextRef=a.a.createRef(),n.schema=new ve(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e;this.state.currentField.minimum>this.state.currentField.maximum&&(null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Warn.MIN_GT_MAX_VALUE))}},{key:"componentDidUpdate",value:function(e,t){var i,n;(t.currentField.minimum===this.state.currentField.minimum||isNaN(t.currentField.minimum)&&isNaN(this.state.currentField.minimum))&&(t.currentField.maximum===this.state.currentField.maximum||isNaN(t.currentField.maximum)&&isNaN(this.state.currentField.maximum))||(this.state.currentField.maximum<this.state.currentField.minimum?null===(i=this.hintTextRef.current)||void 0===i||i.add(de.Warn.MIN_GT_MAX_VALUE):null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Warn.MIN_GT_MAX_VALUE))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(U.jsx)("div",{className:"my-1",children:Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsxs)(k.a,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"MinValue",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Min Value"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",value:this.state.currentField.minimum,onChange:this.recordField.bind(this,"minimum")})}),Object(U.jsx)(k.a,{lg:"6",children:Object(U.jsx)(T.a.Check,{id:"ExclusiveMin",inline:!0,onChange:this.recordField.bind(this,"exclusiveMinimum"),checked:!!this.state.currentField.exclusiveMinimum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"MaxValue",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Max Value"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",value:this.state.currentField.maximum,onChange:this.recordField.bind(this,"maximum")})}),Object(U.jsx)(k.a,{lg:"6",children:Object(U.jsx)(T.a.Check,{id:"ExclusiveMax",inline:!0,onChange:this.recordField.bind(this,"exclusiveMaximum"),checked:!!this.state.currentField.exclusiveMaximum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf",children:"Multiple Of"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"MultipleOf",value:this.state.currentField.multipleOf,onChange:this.recordField.bind(this,"multipleOf")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",id:"const",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(U.jsx)(Oe,{type:"number",width:4,value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(he),ye=i(99),Ne=(ce=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Object,a.currentField=void 0,a.defaultField=void 0,a.childrenProperty=void 0;var c=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},c),{},{const:a.retrieveDefaultOptionValue_code("const",e),default:a.retrieveDefaultOptionValue_code("default",e),maxProperties:a.retrieveDefaultOptionValue("maxProperties",NaN,e),minProperties:a.retrieveDefaultOptionValue("minProperties",NaN,e)}),a.currentField=Object(g.a)({},a.defaultField),e&&(a.childrenProperty=a.generateChildrenPropertyFromSchema(e)),a}return Object(d.a)(i,[{key:"recordCode",value:function(e,t){return this.currentField[e]=t,this.currentField}},{key:"generateChildrenPropertyFromSchema",value:function(e){return Object.keys(e.properties).map((function(t){return{type:e.properties[t].type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!1,isNameFieldReadonly:!1,ref:a.a.createRef(),field:{name:t,required:void 0!==e.required.find((function(e){return e===t}))},schema:e.properties[t]}}))}},{key:"resetOptionField",value:function(){return this.currentField.const=this.defaultField.const,this.currentField.default=this.defaultField.default,this.currentField.maxProperties=this.defaultField.maxProperties,this.currentField.minProperties=this.defaultField.minProperties,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.const="",this.currentField.default="",this.currentField.maxProperties=NaN,this.currentField.minProperties=NaN,this.currentField}},{key:"exportSchema",value:function(e){var t=n.Object,i=this.getGenericSchemaFromField(this.currentField),r=this.exportSchemaWithoutUndefined("maxProperties",NaN),a=this.exportSchemaWithoutUndefined("minProperties",NaN),c=this.exportSchemaWithoutUndefined_code("const"),s=this.exportSchemaWithoutUndefined_code("default"),l=[],d={};if(e){var o,h=Object(ye.a)(e);try{for(h.s();!(o=h.n()).done;){var u=o.value;d[u.name]=u.value,u.required&&l.push(u.name)}}catch(p){h.e(p)}finally{h.f()}}return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:t},i),a),r),{},{required:l,properties:d},c),s)}}]),i}(I),Object(E.a)(ce.prototype,"recordCode",[S],Object.getOwnPropertyDescriptor(ce.prototype,"recordCode"),ce.prototype),Object(E.a)(ce.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(ce.prototype,"resetOptionField"),ce.prototype),Object(E.a)(ce.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(ce.prototype,"clearOptionField"),ce.prototype),ce),Se=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.childrenRef=void 0,n.hintTextRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.childrenRef=a.a.createRef(),n.hintTextRef=a.a.createRef(),n.schema=new Ne(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!0,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e;this.state.currentField.maxProperties<this.state.currentField.minProperties&&(null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Warn.MIN_GT_MAX_PROPERTIES))}},{key:"componentDidUpdate",value:function(e,t){var i,n;(t.currentField.maxProperties===this.state.currentField.maxProperties||isNaN(t.currentField.maxProperties)&&isNaN(this.state.currentField.maxProperties))&&(t.currentField.minProperties===this.state.currentField.minProperties||isNaN(t.currentField.minProperties)&&isNaN(this.state.currentField.minProperties))||(this.state.currentField.maxProperties<this.state.currentField.minProperties?null===(i=this.hintTextRef.current)||void 0===i||i.add(de.Warn.MIN_GT_MAX_PROPERTIES):null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Warn.MIN_GT_MAX_PROPERTIES))}},{key:"exportSchema",value:function(){return this.schema.exportSchema(this.childrenRef.current.exportSchema())}},{key:"recordCode",value:function(e,t){var i,n,r,a,c=this.schema.recordCode(e,t);this.setState({currentField:c});try{switch(0!==t.length&&JSON.parse(t),e){case"const":null===(i=this.hintTextRef.current)||void 0===i||i.remove(de.Error.CANT_PARSE_JSON_CONST);break;case"default":null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Error.CANT_PARSE_JSON_DEFAULT)}}catch(s){switch(e){case"const":null===(r=this.hintTextRef.current)||void 0===r||r.add(de.Error.CANT_PARSE_JSON_CONST);break;case"default":null===(a=this.hintTextRef.current)||void 0===a||a.add(de.Error.CANT_PARSE_JSON_DEFAULT)}}}},{key:"render",value:function(){return Object(U.jsxs)("div",{className:"my-1",children:[Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsxs)(k.a,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"auto",htmlFor:"MinProperties",children:"Min Properties"}),Object(U.jsx)(k.a,{children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MinProperties",value:this.state.currentField.minProperties,onChange:this.recordField.bind(this,"minProperties")})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"auto",htmlFor:"MaxProperties",children:"Max Properties"}),Object(U.jsx)(k.a,{children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MaxProperties",value:this.state.currentField.maxProperties,onChange:this.recordField.bind(this,"maxProperties")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Constant",children:"Constant"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(D.a,{children:Object(U.jsx)(q,{title:"Object constant",value:this.state.currentField.const,update:this.recordCode.bind(this,"const")})})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(D.a,{children:Object(U.jsx)(q,{title:"Object default",value:this.state.currentField.default,update:this.recordCode.bind(this,"default")})})})]})]})})]})})]})]}),Object(U.jsx)(oe,{ref:this.childrenRef,depth:this.props.depth,isNameUnique:!0,childrenProperty:this.schema.childrenProperty})]})}}]),i}(he),Re=(se=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.String,a.currentField=void 0,a.defaultField=void 0;var c=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},c),{},{default:a.retrieveDefaultOptionValue("default","",e),const:a.retrieveDefaultOptionValue("const","",e),enum:a.retrieveDefaultOptionValue("enum",[],e),minLength:a.retrieveDefaultOptionValue("minLength",NaN,e),maxLength:a.retrieveDefaultOptionValue("maxLength",NaN,e),format:a.retrieveDefaultOptionValue("format","",e),pattern:a.retrieveDefaultOptionValue("pattern","",e)}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(je.a)(a.defaultField.enum)}),a}return Object(d.a)(i,[{key:"addEnum",value:function(){this.currentField.enum.push("")}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=t.target.value}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(je.a)(this.defaultField.enum),this.currentField.minLength=this.defaultField.minLength,this.currentField.maxLength=this.defaultField.maxLength,this.currentField.format=this.defaultField.format,this.currentField.pattern=this.defaultField.pattern,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default="",this.currentField.const="",this.currentField.enum=[],this.currentField.minLength=NaN,this.currentField.maxLength=NaN,this.currentField.format="",this.currentField.pattern="",this.currentField}},{key:"exportSchema",value:function(){var e=n.String,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return""!==e})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",""),c=this.exportSchemaWithoutUndefined("const",""),s=this.exportSchemaWithoutUndefined("minLength",NaN),l=this.exportSchemaWithoutUndefined("maxLength",NaN),d=this.exportSchemaWithoutUndefined("format",""),o=this.exportSchemaWithoutUndefined("pattern","");return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),a),c),s),l),r),d),o)}}]),i}(I),Object(E.a)(se.prototype,"resetOptionField",[S],Object.getOwnPropertyDescriptor(se.prototype,"resetOptionField"),se.prototype),Object(E.a)(se.prototype,"clearOptionField",[S],Object.getOwnPropertyDescriptor(se.prototype,"clearOptionField"),se.prototype),se),Ce=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.hintTextRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.hintTextRef=a.a.createRef(),n.schema=new Re(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField()},n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var e;this.state.currentField.minLength>this.state.currentField.maxLength&&(null===(e=this.hintTextRef.current)||void 0===e||e.add(de.Warn.MIN_GT_MAX_LENGTH))}},{key:"componentDidUpdate",value:function(e,t){var i,n;(t.currentField.minLength===this.state.currentField.minLength||isNaN(t.currentField.minLength)&&isNaN(this.state.currentField.minLength))&&(t.currentField.maxLength===this.state.currentField.maxLength||isNaN(t.currentField.maxLength)&&isNaN(this.state.currentField.maxLength))||(this.state.currentField.minLength>this.state.currentField.maxLength?null===(i=this.hintTextRef.current)||void 0===i||i.add(de.Warn.MIN_GT_MAX_LENGTH):null===(n=this.hintTextRef.current)||void 0===n||n.remove(de.Warn.MIN_GT_MAX_LENGTH))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(U.jsx)("div",{className:"my-1",children:Object(U.jsxs)(M.a,{children:[Object(U.jsx)(le,{depth:this.props.depth}),Object(U.jsxs)(k.a,{children:[Object(U.jsx)(Y,{ref:this.hintTextRef}),Object(U.jsx)(T.a,{children:Object(U.jsxs)(T.a.Row,{children:[Object(U.jsx)(k.a,{lg:11,children:Object(U.jsx)(z,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(U.jsx)(k.a,{lg:1,children:Object(U.jsx)(te,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(U.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(U.jsxs)(T.a,{children:[Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(T.a.Control,{type:"text",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MinLength",children:"Min Length"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MinLength",value:this.state.currentField.minLength,onChange:this.recordField.bind(this,"minLength")})}),Object(U.jsx)(T.a.Label,{column:!0,lg:"2",htmlFor:"MaxLength",children:"Max Length"}),Object(U.jsx)(k.a,{lg:"4",children:Object(U.jsx)(T.a.Control,{type:"number",min:"0",id:"MaxLength",value:this.state.currentField.maxLength,onChange:this.recordField.bind(this,"maxLength")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"Format",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Format"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsxs)(T.a.Control,{as:"select",value:this.state.currentField.format,onChange:this.recordField.bind(this,"format"),children:[Object(U.jsx)("option",{disabled:!0,hidden:!0,value:"",children:" "}),["date-time","time","date","email","idn-email","hostname","idn-hostname","ipv4","ipv6","uri","uri-reference","iri","iri-reference","uri-template","json-pointer","relative-json-pointer","regex"].map((function(e,t){return Object(U.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"Pattern",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Pattern"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(T.a.Control,{type:"text",placeholder:"Regular Expression",value:this.state.currentField.pattern,onChange:this.recordField.bind(this,"pattern")})})]}),Object(U.jsxs)(T.a.Group,{as:M.a,controlId:"const",children:[Object(U.jsx)(T.a.Label,{column:!0,lg:"2",children:"Constant"}),Object(U.jsx)(k.a,{lg:"10",children:Object(U.jsx)(T.a.Control,{type:"text",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(U.jsx)(Oe,{type:"text",width:10,value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(he),Me=a.a.forwardRef((function(e,t){switch(e.type){case n.Array:return Object(U.jsx)(ue,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Boolean:return Object(U.jsx)(me,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Integer:return Object(U.jsx)(fe,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Number:return Object(U.jsx)(ge,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Null:return Object(U.jsx)(Fe,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Object:return Object(U.jsx)(Se,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.String:return Object(U.jsx)(Ce,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}))}}));Me.displayName="SchemaEditorFactory";var ke=Me,Te=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var r;return Object(l.a)(this,i),(r=t.call(this,e)).editorRef=void 0,r.editorRef=a.a.createRef(),e.schema?r.state={type:e.schema.type}:r.state={type:n.Object},r}return Object(d.a)(i,[{key:"changeType",value:function(e){this.setState({type:e})}},{key:"changeName",value:function(){console.log("[Root Node] Change Name!!")}},{key:"exportSchema",value:function(){return this.editorRef.current.exportSchema()}},{key:"render",value:function(){return Object(U.jsx)(ke,{ref:this.editorRef,type:this.state.type,schema:this.props.schema,depth:0,field:{name:"root",required:!0},hasSibling:!1,isDeleteable:!1,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,changeType:this.changeType.bind(this),changeName:this.changeName.bind(this)})}}]),i}(a.a.Component),De=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).fileUploadRef=void 0,n.editorRef=void 0,n.rootSchemaEditorKey=void 0,n.fileUploadRef=a.a.createRef(),n.editorRef=a.a.createRef(),n.rootSchemaEditorKey=y.next("key").toString(),n.state={},n}return Object(d.a)(i,[{key:"toggleImport",value:function(){this.fileUploadRef.current.click()}},{key:"import",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var i,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=16;break}return e.prev=1,e.next=4,t.target.files[0].text();case 4:i=e.sent,n=JSON.parse(i),(r=new O.a({schemaId:"auto"})).addMetaSchema(f),r.addMetaSchema(x),r.validateSchema(n)?(this.rootSchemaEditorKey=y.next("key").toString(),this.setState({schema:n})):this.setState({error:"Parsing Schema Error! We only support draft-04/06/07"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),this.setState({error:"Parsing Schema Error! Please check your schema."});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"export",value:function(){try{var e=this.editorRef.current.exportSchema(),t=new Blob([JSON.stringify(e,null,4)],{type:"application/schema+json"}),i=window.URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.setAttribute("download","Schema.json"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(r){this.setState({error:"Find Error: ".concat(r.message," Please check and export again.")})}}},{key:"render",value:function(){var e=this;return Object(U.jsxs)("div",{className:"my-3 mx-4 ",children:[Object(U.jsx)("input",{type:"file",id:"file-uploader","data-target":"file-uploader",hidden:!0,ref:this.fileUploadRef,onChange:this.import.bind(this)}),Object(U.jsx)(F.a,{variant:"outline-primary",onClick:this.toggleImport.bind(this),children:"Import from file"})," ",Object(U.jsx)(F.a,{variant:"outline-success",onClick:this.export.bind(this),children:"Export Schema"}),Object(U.jsx)(Te,{ref:this.editorRef,schema:this.state.schema},this.rootSchemaEditorKey),this.state.error&&Object(U.jsxs)(v.a,{show:!!this.state.error,onClose:function(){e.setState({error:void 0})},delay:3e3,autohide:!0,style:{position:"absolute",bottom:"20px",right:"20px",borderColor:"red",color:"red"},children:[Object(U.jsx)(v.a.Header,{style:{borderColor:"red",color:"red"},children:Object(U.jsx)("strong",{className:"mr-auto",children:"Error"})}),Object(U.jsx)(v.a.Body,{children:this.state.error})]})]})}}]),i}(a.a.Component),Ee=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(d.a)(i,[{key:"render",value:function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(U.jsx)(u.a.Brand,{href:"",children:"JSON Schema Editor"}),Object(U.jsx)(u.a.Collapse,{className:"justify-content-end",children:Object(U.jsx)(u.a.Text,{children:Object(U.jsx)("a",{href:"https://github.com/JingWangTW/json-schema-editor",target:"_blank",rel:"noopener noreferrer",children:Object(U.jsx)("img",{height:"30px",src:"https://github.com/fluidicon.png",alt:"Github ICON"})})})})]}),Object(U.jsx)(De,{})]})}}]),i}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(U.jsx)(a.a.StrictMode,{children:Object(U.jsx)(Ee,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,i){}},[[149,1,2]]]);
//# sourceMappingURL=main.2213ae7e.chunk.js.map