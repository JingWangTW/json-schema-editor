(this["webpackJsonpjson-schema-editor"]=this["webpackJsonpjson-schema-editor"]||[]).push([[0],{299:function(e,t,a){"use strict";a.r(t);var n,l=a(1),i=a.n(l),r=a(17),o=a.n(r),c=(a(60),a(9)),s=a(8),d=a(11),u=a(10),m=a(314),h=a(66),p=a(310),f=a(315),E=a(313),g=a(309),b=a(20),v=a.n(b),y=a(14),k=a(312),x=a(306),C=a(65),O=a(308),j=a(316),F=a(307),S=a(68),M=a(69),w=a(54),I=i.a.forwardRef((function(e,t){switch(e.type){case n.Array:return i.a.createElement(G,Object.assign({},e,{ref:t}));case n.Boolean:return i.a.createElement(V,Object.assign({},e,{ref:t}));case n.Integer:return i.a.createElement(q,Object.assign({},e,{ref:t}));case n.Number:return i.a.createElement(B,Object.assign({},e,{ref:t}));case n.Object:return i.a.createElement(H,Object.assign({},e,{ref:t}));case n.String:return i.a.createElement(U,Object.assign({},e,{ref:t}));default:return i.a.createElement(H,Object.assign({},e,{ref:t}))}})),_=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={children:[],checkNameDuplicate:!1},n}return Object(s.a)(a,[{key:"add",value:function(e){var t,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.state.children;t=""===e?r.length-1:r.findIndex((function(t){return t.keyId===e})),r.splice(t+1,0,{delete:this.delete.bind(this),addSibling:this.add.bind(this),type:n.Object,isDeleteAble:a,hasSibling:l,keyId:v()("child_node-"),ref:i.a.createRef()}),this.setState({children:r})}},{key:"delete",value:function(e){var t=this.state.children,a=t.findIndex((function(t){return t.keyId===e}));t.splice(a,1),this.setState({children:t})}},{key:"changeType",value:function(e,t){this.setState((function(a){return{children:a.children.map((function(a){return a.keyId===e?Object(y.a)(Object(y.a)({},a),{},{type:t}):a}))}}))}},{key:"exportSchemaObj",value:function(){if(this.state.checkNameDuplicate)throw new Error("Find Duplicate");return this.state.children.map((function(e){return{name:e.ref.current.form.name,value:e.ref.current.exportSchemaObj(),required:e.ref.current.form.required}}))}},{key:"checkChildName",value:function(e,t){var a,n=!1,l=Object(w.a)(this.state.children);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(i.keyId!==e&&i.ref.current.form.name===t){n=!0;break}}}catch(r){l.e(r)}finally{l.f()}this.setState({checkNameDuplicate:n})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,this.state.checkNameDuplicate&&i.a.createElement(x.a,null,i.a.createElement(C.a,{lg:"auto",className:"px-0 mx-0",style:{width:(20*this.props.depth).toString()+"px"}}),i.a.createElement(C.a,null,i.a.createElement("span",{style:{color:"red"}},"Find duplicated field name in this layer "))),this.state.children.map((function(t,a){return i.a.createElement(I,Object.assign({key:t.keyId},t,{ref:t.ref,changeType:e.changeType.bind(e),changeName:e.checkChildName.bind(e),depth:e.props.depth}))})))}}]),a}(i.a.Component),D=a(311),T=a(16),N=a(67),L=i.a.forwardRef((function(e,t){return i.a.createElement("span",{ref:t,id:e.id,onClick:e.onClick},i.a.createElement(T.a,{color:"green"}))})),A=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).addHtmlDropId=v()("Add-Dropdown"),e.addToolTipId=v()("Add-Tooltip"),e}return Object(s.a)(a,[{key:"dropDownOnToggle",value:function(e,t,a){t&&t.stopPropagation()}},{key:"render",value:function(){return i.a.createElement("div",{className:"node-option-block"},this.props.hasChild&&this.props.hasSibling&&i.a.createElement("div",{className:"node-option-btn-block"},i.a.createElement(D.a,{onToggle:this.dropDownOnToggle.bind(this)},i.a.createElement(D.a.Toggle,{as:L,id:this.addHtmlDropId}),i.a.createElement(D.a.Menu,null,i.a.createElement(D.a.Item,{href:"#",eventKey:"1",onClick:this.props.clickAddSibling},"Add Sibling"),i.a.createElement(D.a.Item,{href:"#",eventKey:"2",onClick:this.props.clickAddChild},"Add Child")))),this.props.hasChild!==this.props.hasSibling&&i.a.createElement("div",{className:"node-option-btn-block",onClick:this.props.hasChild?this.props.clickAddChild:this.props.clickAddSibling},i.a.createElement(j.a,{trigger:["hover","focus"],overlay:i.a.createElement(F.a,{id:this.addToolTipId}," Add ")},i.a.createElement("span",null,i.a.createElement(T.a,{color:"green"})))),this.props.isDeleteAble&&i.a.createElement("div",{className:"node-option-btn-block",onClick:this.props.clickDelete},i.a.createElement(j.a,{trigger:["hover","focus"],overlay:i.a.createElement(F.a,{id:"delete-tooltip"}," Delete ")},i.a.createElement("span",null,i.a.createElement(T.b,{color:"red"})))),this.props.isOptionExist&&i.a.createElement("div",{className:"node-option-btn-block",onClick:this.props.clickOption},i.a.createElement(j.a,{trigger:["hover","focus"],overlay:i.a.createElement(F.a,{id:"option-tooltip"}," Option ")},i.a.createElement("span",null,i.a.createElement(N.a,null)))))}}]),a}(i.a.Component),R=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).selfType=void 0,n.field=void 0,n.childRef=void 0,n.optionFieldFormRef=void 0,n.childRef=i.a.createRef(),n.optionFieldFormRef=i.a.createRef(),n.state=Object(y.a)({showOptionModal:!1,showDescriptionModal:!1,isDeleteAble:!0,isOptionExist:!0,hasChild:!1,hasSibling:!0},e),n.field={name:v()("field_"),required:!0},n.props.field&&(n.field=Object(y.a)(Object(y.a)({},n.field),n.props.field)),n}return Object(s.a)(a,[{key:"setShowOptionModal",value:function(e){this.setState({showOptionModal:e})}},{key:"setShowDescriptionEditorModal",value:function(e){this.setState({showDescriptionModal:e})}},{key:"addSibling",value:function(){this.props.addSibling&&this.props.addSibling(this.props.keyId)}},{key:"addChild",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.childRef.current.add("",e,t)}},{key:"delete",value:function(){this.props.delete&&this.props.delete(this.props.keyId)}},{key:"changeType",value:function(e){e.preventDefault(),e.target.value in n&&this.props.changeType(this.props.keyId,n[e.target.value])}},{key:"recordGenericField",value:function(e,t){"name"===e?(this.props.changeName(this.props.keyId,t.target.value),this.field[e]=t.target.value):this.field[e]="required"===e?t.target.checked:t.target.value,"description"===e&&this.forceUpdate()}},{key:"resetOptionFiledForm",value:function(){var e;for(e in this.field)"name"!==e&&"title"!==e&&"description"!==e&&"required"!==e&&delete this.field[e];this.optionFieldFormRef.current&&this.optionFieldFormRef.current.reset()}},{key:"render",value:function(){return i.a.createElement("div",{className:"my-1"},i.a.createElement(k.a,null,i.a.createElement(k.a.Row,null,i.a.createElement(C.a,{lg:3},i.a.createElement(x.a,null,i.a.createElement(C.a,{lg:"auto",className:"px-0 mx-0",style:{width:(20*this.props.depth).toString()+"px"}}),i.a.createElement(C.a,null,i.a.createElement(O.a,null,i.a.createElement(j.a,{trigger:["hover","focus"],overlay:i.a.createElement(F.a,{id:"add-tooltip"}," Required ")},i.a.createElement(O.a.Prepend,null,i.a.createElement(O.a.Checkbox,{defaultChecked:this.field.required,disabled:!this.state.isDeleteAble,onChange:this.recordGenericField.bind(this,"required")}))),i.a.createElement(k.a.Control,{placeholder:"items",required:!0,readOnly:!this.state.isDeleteAble,defaultValue:this.field.name,onChange:this.recordGenericField.bind(this,"name")}))))),i.a.createElement(C.a,{lg:1},i.a.createElement(k.a.Control,{as:"select",custom:!0,placeholder:"DataType",onChange:this.changeType.bind(this),value:this.selfType},i.a.createElement("option",null,"Object"),i.a.createElement("option",null,"Array"),i.a.createElement("option",null,"String"),i.a.createElement("option",null,"Integer"),i.a.createElement("option",null,"Number"),i.a.createElement("option",null,"Boolean"))),i.a.createElement(C.a,{lg:3},i.a.createElement(k.a.Control,{placeholder:"Titile",onChange:this.recordGenericField.bind(this,"title")})),i.a.createElement(C.a,{lg:4},i.a.createElement(O.a,null,i.a.createElement(S.a,{type:"text",id:"Description",placeholder:"Description",defaultValue:this.field.description,value:this.field.description,onChange:this.recordGenericField.bind(this,"description")}),i.a.createElement(j.a,{trigger:["hover","focus"],overlay:i.a.createElement(F.a,{id:"add-tooltip"}," Edit ")},i.a.createElement(O.a.Append,null,i.a.createElement(h.a,{variant:"outline-primary",onClick:this.setShowDescriptionEditorModal.bind(this,!0)},i.a.createElement(M.a,null))))),i.a.createElement(p.a,{onHide:this.setShowDescriptionEditorModal.bind(this,!1),show:this.state.showDescriptionModal,size:"lg","aria-labelledby":"description-modal",centered:!0},i.a.createElement(p.a.Header,{closeButton:!0},i.a.createElement(p.a.Title,{id:"description-modal"},"Description")),i.a.createElement(p.a.Body,null,i.a.createElement(k.a.Group,null,i.a.createElement(k.a.Control,{as:"textarea",rows:3,defaultValue:this.field.description,onChange:this.recordGenericField.bind(this,"description")}))))),i.a.createElement(C.a,{lg:1},i.a.createElement(A,{hasChild:this.state.hasChild,hasSibling:this.state.hasSibling,isDeleteAble:this.state.isDeleteAble,isOptionExist:this.state.isOptionExist,clickAddChild:this.addChild.bind(this),clickAddSibling:this.addSibling.bind(this),clickDelete:this.delete.bind(this),clickOption:this.setShowOptionModal.bind(this,!0)}),i.a.createElement(p.a,{onHide:this.setShowOptionModal.bind(this,!1),show:this.state.showOptionModal,size:"lg","aria-labelledby":"option-modal",centered:!0},i.a.createElement(p.a.Header,{closeButton:!0},i.a.createElement(p.a.Title,{id:"option-modal"},"Advanced Options")),i.a.createElement(p.a.Body,null,i.a.createElement(k.a,{ref:this.optionFieldFormRef},this.OptionModal())),i.a.createElement(p.a.Footer,null,i.a.createElement(h.a,{variant:"outline-secondary",onClick:this.resetOptionFiledForm.bind(this)},"Clear")))))),this.state.hasChild&&i.a.createElement(_,{ref:this.childRef,depth:this.props.depth+1}))}},{key:"form",get:function(){return this.field}}]),a}(i.a.Component),G=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(c.a)(this,a),(l=t.call(this,Object(y.a)(Object(y.a)({},e),{},{hasChild:!0}))).selfType=n.Array,l}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.addChild(!1,!1)}},{key:"exportSchemaObj",value:function(){var e=this.childRef.current.exportSchemaObj();return!!e&&{type:"array",title:this.field.title,description:this.field.description,uniqueItems:this.field.unique,minItems:this.field.min_items,maxItems:this.field.max_items,items:e[0].value}}},{key:"recordField",value:function(e,t){this.field[e]="min_items"===e||"max_items"===e?Number(t.target.value):t.target.checked}},{key:"OptionModal",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MinItems"},"Min Items"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",min:"0",id:"MinItems",onChange:this.recordField.bind(this,"min_items")})),i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MaxItems"},"Max Items"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",min:"0",id:"MaxItems",onChange:this.recordField.bind(this,"max_items")}))),i.a.createElement(k.a.Group,null,i.a.createElement(k.a.Check,{id:"uniqueCheckbox",type:"checkbox",label:"Unique",onChange:this.recordField.bind(this,"unique")})))}}]),a}(R),V=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).selfType=n.Boolean,e}return Object(s.a)(a,[{key:"recordField",value:function(e,t){this.field[e]="True"===t.target.value}},{key:"exportSchemaObj",value:function(){return{type:"boolean",default:this.field.default,title:this.field.title,description:this.field.description}}},{key:"OptionModal",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MinLength"},"Default"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{as:"select",onChange:this.recordField.bind(this,"default")},i.a.createElement("option",null),i.a.createElement("option",null,"True"),i.a.createElement("option",null,"False")))))}}]),a}(R),q=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).selfType=n.Integer,e}return Object(s.a)(a,[{key:"recordField",value:function(e,t){"default"===e||"constant"===e||"min_value"===e||"max_value"===e||"multiple_of"===e?this.field[e]=Number(t.target.value):"max_exclusive"!==e&&"min_exclusive"!==e||(this.field[e]=t.target.checked)}},{key:"recordEnumField",value:function(e,t){this.field.enum[e]=parseInt(t.target.value)}},{key:"addEnum",value:function(){this.field.enum||(this.field.enum=[]),this.field.enum.push(""),this.forceUpdate()}},{key:"exportSchemaObj",value:function(){return{type:"integer",title:this.field.title,description:this.field.description,constant:this.field.constant,default:this.field.default,minimum:this.field.min_value,exclusiveMinimum:this.field.min_exclusive,maximum:this.field.max_value,exclusiveMaximum:this.field.max_exclusive,multipleOf:this.field.multiple_of,enum:this.field.enum}}},{key:"OptionModal",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a.Group,{as:x.a,controlId:"MinValue"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Min Value"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",onChange:this.recordField.bind(this,"min_value")})),i.a.createElement(C.a,{lg:"6"},i.a.createElement(k.a.Check,{id:"ExclusiveMin",inline:!0,label:"Exclusive",type:"checkbox",style:{height:"100%"},onChange:this.recordField.bind(this,"min_exclusive")}))),i.a.createElement(k.a.Group,{as:x.a,controlId:"MaxValue"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Max Value"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",onChange:this.recordField.bind(this,"max_value")})),i.a.createElement(C.a,{lg:"6"},i.a.createElement(k.a.Check,{id:"ExclusiveMax",inline:!0,label:"Exclusive",type:"checkbox",style:{height:"100%"},onChange:this.recordField.bind(this,"max_exclusive")}))),i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"Default"},"Default"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"Default",onChange:this.recordField.bind(this,"default")})),i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf"},"Multiple Of"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"MultipleOf",onChange:this.recordField.bind(this,"multiple_of")}))),i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"Constant"},"Constant"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"Constant",placeholder:"Restricted Value",onChange:this.recordField.bind(this,"constant")}))),i.a.createElement(k.a.Group,null,this.field.enum?this.field.enum.map((function(t,a){return i.a.createElement(k.a.Group,{as:x.a,key:a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},0===a?"Enum":""),i.a.createElement(C.a,{lg:"4"},a===e.field.enum.length-1?i.a.createElement(O.a,null,i.a.createElement(S.a,{type:"number",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t}),i.a.createElement(O.a.Append,null,i.a.createElement(h.a,{variant:"outline-success",onClick:e.addEnum.bind(e)},i.a.createElement(T.a,null)))):i.a.createElement(S.a,{type:"number",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t})))})):i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Enum"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(x.a,null,i.a.createElement(C.a,{lg:"12"},i.a.createElement(h.a,{variant:"outline-success",onClick:this.addEnum.bind(this)},i.a.createElement(T.a,{color:"green"}))))))))}}]),a}(R),B=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).selfType=n.Number,e}return Object(s.a)(a,[{key:"recordField",value:function(e,t){"default"===e||"constant"===e||"min_value"===e||"max_value"===e?this.field[e]=parseFloat(t.target.value):"max_exclusive"!==e&&"min_exclusive"!==e||(this.field[e]=t.target.checked)}},{key:"recordEnumField",value:function(e,t){this.field.enum[e]=parseFloat(t.target.value)}},{key:"addEnum",value:function(){this.field.enum||(this.field.enum=[]),this.field.enum.push(""),this.forceUpdate()}},{key:"exportSchemaObj",value:function(){return{type:"number",title:this.field.title,description:this.field.description,constant:this.field.constant,default:this.field.default,minimum:this.field.min_value,exclusiveMinimum:this.field.min_exclusive,maximum:this.field.max_value,exclusiveMaximum:this.field.max_exclusive,multipleOf:this.field.multiple_of,enum:this.field.enum}}},{key:"OptionModal",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a.Group,{as:x.a,controlId:"MinValue"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Min Value"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",onChange:this.recordField.bind(this,"min_value")})),i.a.createElement(C.a,{lg:"6"},i.a.createElement(k.a.Check,{id:"ExclusiveMin",inline:!0,label:"Exclusive",type:"checkbox",style:{height:"100%"},onChange:this.recordField.bind(this,"min_exclusive")}))),i.a.createElement(k.a.Group,{as:x.a,controlId:"MaxValue"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Max Value"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",onChange:this.recordField.bind(this,"max_value")})),i.a.createElement(C.a,{lg:"6"},i.a.createElement(k.a.Check,{id:"ExclusiveMax",inline:!0,label:"Exclusive",type:"checkbox",style:{height:"100%"},onChange:this.recordField.bind(this,"max_exclusive")}))),i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"Default"},"Default"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"Default",onChange:this.recordField.bind(this,"default")})),i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf"},"Multiple Of"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"MultipleOf",onChange:this.recordField.bind(this,"multiple_of")}))),i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"Constant"},"Constant"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",id:"Constant",placeholder:"Restricted Value",onChange:this.recordField.bind(this,"constant")}))),this.field.enum?this.field.enum.map((function(t,a){return i.a.createElement(k.a.Group,{as:x.a,key:a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},0===a?"Enum":""),i.a.createElement(C.a,{lg:"6"},a===e.field.enum.length-1?i.a.createElement(O.a,null,i.a.createElement(S.a,{type:"number",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t}),i.a.createElement(O.a.Append,null,i.a.createElement(h.a,{variant:"outline-success",onClick:e.addEnum.bind(e)},i.a.createElement(T.a,null)))):i.a.createElement(S.a,{type:"number",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t})))})):i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Enum"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(x.a,null,i.a.createElement(C.a,{lg:"12"},i.a.createElement(h.a,{variant:"outline-success",onClick:this.addEnum.bind(this)},i.a.createElement(T.a,{color:"green"})))))))}}]),a}(R),H=function(e){a(d.a)(a,e);var t=a(u.a)(a);function a(e){var l;return a(c.a)(this,a),(l=t.call(this,a(y.a)(a(y.a)({},e),{},{hasChild:!0,isOptionExist:!1}))).selfType=n.Object,l}return a(s.a)(a,[{key:"recordField",value:function(e,t){}}]),a(s.a)(a,[{key:"exportSchemaObj",value:function(){var e,t,n=null===(e=this.childRef.current)||void 0===e?void 0:e.exportSchemaObj(),l={},i=[],r=a(w.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;l[o.name]=a(y.a)({},o.value),o.required&&i.push(o.name)}}catch(c){r.e(c)}finally{r.f()}return{type:"object",title:this.field.title,description:this.field.description,properties:l,required:i}}},{key:"OptionModal",value:function(){return i.a.createElement(i.a.Fragment,null)}}]),a}(R),U=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var l=arguments.length,i=new Array(l),r=0;r<l;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).selfType=n.String,e}return Object(s.a)(a,[{key:"recordField",value:function(e,t){"min_length"===e||"max_length"===e?this.field[e]=Number(t.target.value):("default"===e||"constant"===e||"pattern"===e||"format"===e)&&(this.field[e]=t.target.value)}},{key:"recordEnumField",value:function(e,t){this.field.enum[e]=t.target.value}},{key:"addEnum",value:function(){this.field.enum||(this.field.enum=[]),this.field.enum.push(""),this.forceUpdate()}},{key:"exportSchemaObj",value:function(){return{type:"string",title:this.field.title,description:this.field.description,constant:this.field.constant,default:this.field.default,minLength:this.field.min_length,maxLength:this.field.max_length,format:this.field.format,pattern:this.field.pattern,enum:this.field.enum}}},{key:"OptionModal",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"Default"},"Default"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(k.a.Control,{type:"text",min:"0",id:"Default",onChange:this.recordField.bind(this,"default")}))),i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MinLength"},"Min Length"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",min:"0",id:"MinLength",onChange:this.recordField.bind(this,"min_length")})),i.a.createElement(k.a.Label,{column:!0,lg:"2",htmlFor:"MaxLength"},"Max Length"),i.a.createElement(C.a,{lg:"4"},i.a.createElement(k.a.Control,{type:"number",min:"0",id:"MaxLength",onChange:this.recordField.bind(this,"max_length")}))),i.a.createElement(k.a.Group,{as:x.a,controlId:"Format"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Format"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(k.a.Control,{as:"select",onChange:this.recordField.bind(this,"format")},["date-time","time","date","email","idn-email","hostname","idn-hostname","ipv4","ipv6","uri","uri-reference","iri","iri-reference","uri-template","json-pointer","relative-json-pointer","regex"].map((function(e,t){return i.a.createElement("option",{key:t},e)}))))),i.a.createElement(k.a.Group,{as:x.a,controlId:"Pattern"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Pattern"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(k.a.Control,{type:"text",placeholder:"Regular Expression",onChange:this.recordField.bind(this,"pattern")}))),i.a.createElement(k.a.Group,{as:x.a,controlId:"Constant"},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Constant"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(k.a.Control,{type:"text",placeholder:"Restricted Value",onChange:this.recordField.bind(this,"constant")}))),this.field.enum?this.field.enum.map((function(t,a){return i.a.createElement(k.a.Group,{as:x.a,key:a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},0===a?"Enum":""),i.a.createElement(C.a,{lg:"10"},a===e.field.enum.length-1?i.a.createElement(O.a,null,i.a.createElement(S.a,{type:"text",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t}),i.a.createElement(O.a.Append,null,i.a.createElement(h.a,{variant:"outline-success",onClick:e.addEnum.bind(e)},i.a.createElement(T.a,null)))):i.a.createElement(S.a,{type:"text",id:a.toString(),onChange:e.recordEnumField.bind(e,a),defaultValue:t})))})):i.a.createElement(k.a.Group,{as:x.a},i.a.createElement(k.a.Label,{column:!0,lg:"2"},"Enum"),i.a.createElement(C.a,{lg:"10"},i.a.createElement(x.a,null,i.a.createElement(C.a,{lg:"12"},i.a.createElement(h.a,{variant:"outline-success",onClick:this.addEnum.bind(this)},i.a.createElement(T.a,{color:"green"})))))))}}]),a}(R);!function(e){e.Array="Array",e.Boolean="Boolean",e.Integer="Integer",e.Number="Number",e.Object="Object",e.String="String"}(n||(n={}));var J=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var l;return Object(c.a)(this,a),(l=t.call(this,e)).selfType=void 0,l.nodeRef=void 0,l.selfType=n.Object,l.nodeRef=i.a.createRef(),l}return Object(s.a)(a,[{key:"changeType",value:function(e,t){this.selfType=t,this.forceUpdate()}},{key:"exportSchemaObj",value:function(){return this.nodeRef.current.exportSchemaObj()}},{key:"render",value:function(){return i.a.createElement(I,{ref:this.nodeRef,key:v()("childId"),keyId:v()("childId"),depth:0,type:this.selfType,isDeleteAble:!1,hasSibling:!1,field:{name:"root",required:!0},changeType:this.changeType.bind(this),changeName:function(){return!0}})}}]),a}(i.a.Component),P=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).rootNode=void 0,n.rootNodeRef=void 0,n.rootNodeRef=i.a.createRef(),n.rootNode=i.a.createElement(J,{ref:n.rootNodeRef}),n.state={showExport:!1,showImport:!1,showErrorToast:!1,exportString:""},n}return Object(s.a)(a,[{key:"toggleImport",value:function(e){this.setState({showImport:e})}},{key:"toggleExport",value:function(e){if(e)try{var t=this.rootNodeRef.current.exportSchemaObj();this.setState({exportString:JSON.stringify(t,null,4),showExport:!0})}catch(a){this.setState({showErrorToast:!0})}else this.setState({showExport:!1})}},{key:"saveSchema",value:function(){var e=new Blob([this.state.exportString],{type:"application/json"}),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.setAttribute("download","Schema.json"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"render",value:function(){return i.a.createElement("div",{className:"my-3 mx-4 "},i.a.createElement(h.a,{variant:"outline-primary",onClick:this.toggleImport.bind(this,!0)},"Import from file")," "," ",i.a.createElement(h.a,{variant:"outline-success",onClick:this.toggleExport.bind(this,!0)},"Export Schema"),i.a.createElement("div",null,this.rootNode),i.a.createElement(p.a,{size:"xl",scrollable:!0,show:this.state.showExport,onHide:this.toggleExport.bind(this,!1)},i.a.createElement(p.a.Header,{closeButton:!0},i.a.createElement(p.a.Title,null,"Export")),i.a.createElement(p.a.Body,null,i.a.createElement("div",{style:{maxHeight:"80%"}},i.a.createElement(E.a,{language:"json",style:g.a,showLineNumbers:!0},this.state.exportString))),i.a.createElement(p.a.Footer,null,i.a.createElement(h.a,{variant:"outline-success",onClick:this.saveSchema.bind(this)},"Save"))),i.a.createElement(f.a,{show:this.state.showErrorToast,delay:3e3,autohide:!0,style:{position:"absolute",bottom:"20px",right:"20px"}},i.a.createElement(f.a.Header,null,i.a.createElement("strong",{className:"mr-auto"},"Error")),i.a.createElement(f.a.Body,null,"There's still some errors in your schema!",i.a.createElement("br",null)," Please check and try again!")))}}]),a}(i.a.Component),W=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},i.a.createElement(m.a.Brand,{href:""},"JSON Schema Editor"),i.a.createElement(m.a.Collapse,{className:"justify-content-end"},i.a.createElement(m.a.Text,null,i.a.createElement("a",{href:"https://github.com/JingWangTW/json-schema-editor",target:"_blank",rel:"noopener noreferrer"},i.a.createElement("img",{height:"30px",src:"https://github.com/fluidicon.png",alt:"Github ICON"}))))),i.a.createElement(P,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,a){},74:function(e,t,a){e.exports=a(299)}},[[74,1,2]]]);
//# sourceMappingURL=main.9f224e45.chunk.js.map