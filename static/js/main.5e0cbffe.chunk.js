(this["webpackJsonpjson-schema-editor"]=this["webpackJsonpjson-schema-editor"]||[]).push([[0],{149:function(e,t,i){"use strict";i.r(t);i(69);var n,r=i(1),a=i.n(r),s=i(25),c=i.n(s),l=i(10),o=i(11),d=i(13),h=i(12),u=i(162),p=i(77),m=i.n(p),j=i(91),b=i(92),O=i.n(b),f=i(93),x=i(94),F=i(97),v=i(161),g=i(3),y=function(){function e(){Object(l.a)(this,e)}return Object(o.a)(e,null,[{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return t in e.mappedKeyId||(e.mappedKeyId[t]=0),e.mappedKeyId[t]++,e.mappedKeyId[t]}}]),e}();function N(e,t){return e===t||e.length===t.length&&e.every((function(e){return t.includes(e)}))}function S(e,t){return void 0===e?t:e}function M(e,t,i){var n=i.value;return i.value=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=n.apply(this,t);return r&&r instanceof Object?Object(g.a)({},r):r},i}y.mappedKeyId={},function(e){e.Array="array",e.Boolean="boolean",e.Integer="integer",e.Number="number",e.Object="object",e.String="string",e.Null="null"}(n||(n={}));var C,k,R,I=i(156),D=i(98),w=i(159),E=i(154);!function(e){e.DUPLICATED_FIELD_NAME="Find duplicated field name",e.CANT_PARSE_JSON_CONST="Invalid JSON in const field"}(C||(C={})),function(e){e.MIN_GT_MAX_ITEMS="Min Items > Max Items",e.MIN_GT_MAX_VALUE="Min Value > Max Value",e.MIN_GT_MAX_PROPERTIES="Min Properties > Max Properties",e.MIN_GT_MAX_LENGTH="Min Length > Max Length"}(k||(k={})),function(e){e.ARRAY_ITEM_INDEX_MATTER="Ordinal index of each item under Array type is meaningful"}(R||(R={}));var T,A,P=function(){function e(){Object(l.a)(this,e),this.hint=void 0,this.hint={error:new Set,info:new Set,warn:new Set}}return Object(o.a)(e,[{key:"add",value:function(t){e.isWarnText(t)?this.hint.warn.add(t):e.isInfoText(t)?this.hint.info.add(t):e.isErrorText(t)&&this.hint.error.add(t)}},{key:"remove",value:function(t){e.isWarnText(t)?this.hint.warn.delete(t):e.isInfoText(t)?this.hint.info.delete(t):e.isErrorText(t)&&this.hint.error.delete(t)}},{key:"getError",value:function(){return Array.from(this.hint.error)}},{key:"getWarn",value:function(){return Array.from(this.hint.warn)}},{key:"getInfo",value:function(){return Array.from(this.hint.info)}},{key:"getAll",value:function(){return{error:this.hint.error.size>0?Array.from(this.hint.error):void 0,warn:this.hint.warn.size>0?Array.from(this.hint.warn):void 0,info:this.hint.info.size>0?Array.from(this.hint.info):void 0}}}],[{key:"isWarnText",value:function(e){return Object.values(k).includes(e)}},{key:"isInfoText",value:function(e){return Object.values(R).includes(e)}},{key:"isErrorText",value:function(e){return Object.values(C).includes(e)}}]),e}(),L=i(15),_=(T=function(){function e(){Object(l.a)(this,e),this.type=void 0,this.currentField=void 0,this.defaultField=void 0}return Object(o.a)(e,[{key:"recordField",value:function(e,t){switch(typeof this.currentField[e]){case"string":this.currentField[e]=t.target.value.toString();break;case"boolean":this.currentField[e]=t.target.checked;break;case"number":this.currentField[e]=parseInt(t.target.value)}return this.currentField}},{key:"getDefaultField",value:function(){return this.defaultField}},{key:"getCurrentField",value:function(){return this.currentField}},{key:"getGenericSchemaFromField",value:function(e){var t={};return e.title&&""!==e.title&&(t.title=e.title),e.description&&""!==e.description&&(t.description=e.description),e.$comment&&""!==e.$comment&&(t.$comment=e.$comment),t}},{key:"getGenericFieldFromSchema",value:function(e,t){var i;return void 0===e&&(e={}),i=void 0===t?{type:this.type,required:!0,name:"Field_".concat(y.next("Field"))}:Object(g.a)({type:this.type},t),{type:this.type,required:i.required,name:i.name,title:S(e.title,S(i.title,"")),description:S(e.description,S(i.description,"")),$comment:S(e.$comment,S(i.$comment,""))}}},{key:"retrieveDefaultOptionValue",value:function(e,t,i){return i&&e in i&&void 0!==i[e]?i[e]:t}},{key:"exportSchemaWithoutUndefined",value:function(e,t){var i={};return"number"===typeof t&&isNaN(t)?isNaN(this.currentField[e])||(i[e]=this.currentField[e]):this.currentField[e]!==t&&(i[e]=this.currentField[e]),i}}]),e}(),Object(L.a)(T.prototype,"recordField",[M],Object.getOwnPropertyDescriptor(T.prototype,"recordField"),T.prototype),Object(L.a)(T.prototype,"getDefaultField",[M],Object.getOwnPropertyDescriptor(T.prototype,"getDefaultField"),T.prototype),Object(L.a)(T.prototype,"getCurrentField",[M],Object.getOwnPropertyDescriptor(T.prototype,"getCurrentField"),T.prototype),T),G=(A=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Array,a.currentField=void 0,a.defaultField=void 0,a.childrenProperty=void 0;var s=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},s),{},{const:e&&e.const?JSON.stringify(e.const,null,4):"[]",minItems:a.retrieveDefaultOptionValue("minItems",NaN,e),maxItems:a.retrieveDefaultOptionValue("maxItems",NaN,e),uniqueItems:a.retrieveDefaultOptionValue("uniqueItems",!1,e)}),a.currentField=Object(g.a)({},a.defaultField),e&&(a.childrenProperty=a.generateChildrenPropertyFromSchema(e)),a}return Object(o.a)(i,[{key:"recordCode",value:function(e,t){return this.currentField.const=t,this.currentField}},{key:"generateChildrenPropertyFromSchema",value:function(e){return e.items?e.items instanceof Array?e.items.map((function(e){return{type:e.type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,ref:a.a.createRef(),field:{name:"items",required:!0},schema:e}})):[{type:e.type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,ref:a.a.createRef(),field:{name:"items",required:!0},schema:e.items}]:[]}},{key:"resetOptionField",value:function(){return this.currentField.const=this.defaultField.const,this.currentField.maxItems=this.defaultField.maxItems,this.currentField.minItems=this.defaultField.minItems,this.currentField.uniqueItems=this.defaultField.uniqueItems,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.const="[]",this.currentField.maxItems=NaN,this.currentField.minItems=NaN,this.currentField.uniqueItems=!1,this.currentField}},{key:"exportSchema",value:function(e){var t,i=n.Array,r=this.getGenericSchemaFromField(this.currentField),a=this.currentField.uniqueItems,s=this.exportSchemaWithoutUndefined("minItems",NaN),c=this.exportSchemaWithoutUndefined("maxItems",NaN),l={};return l.const=JSON.parse(this.currentField.const.replace(/\s/g,"")),e&&(1===e.length?t=e[0].value:e.length>1&&(t=e.map((function(e){return e.value})))),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:i},r),s),c),{},{uniqueItems:a,items:t},l)}}]),i}(_),Object(L.a)(A.prototype,"recordCode",[M],Object.getOwnPropertyDescriptor(A.prototype,"recordCode"),A.prototype),Object(L.a)(A.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(A.prototype,"resetOptionField"),A.prototype),Object(L.a)(A.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(A.prototype,"clearOptionField"),A.prototype),A),U=i(95),B=i.n(U),V=i(96),H=i(157),q=i(52),W=i(2);i(146),i(147);var X=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={isShowModal:!1},n}return Object(o.a)(i,[{key:"setDisplayCodeModal",value:function(e){this.setState({isShowModal:e})}},{key:"render",value:function(){var e=this;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(V.a,{type:"text",onChange:function(t){e.props.update(t.target.value)},value:this.props.value}),Object(W.jsx)(E.a.Append,{children:Object(W.jsx)(F.a,{variant:"outline-primary",onClick:this.setDisplayCodeModal.bind(this,!0),children:Object(W.jsx)(q.a,{})})}),Object(W.jsxs)(H.a,{onHide:this.setDisplayCodeModal.bind(this,!1),show:this.state.isShowModal,size:"lg","aria-labelledby":"code-modal",centered:!0,children:[Object(W.jsx)(H.a.Header,{closeButton:!0,children:Object(W.jsx)(H.a.Title,{id:"code-modal",children:this.props.title})}),Object(W.jsx)(H.a.Body,{children:Object(W.jsx)(w.a.Group,{children:Object(W.jsx)(B.a,{placeholder:"Placeholder Text",width:"100%",mode:"json",theme:"terminal",name:"Code",onChange:this.props.update,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:this.props.value,setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,enableSnippets:!1,showLineNumbers:!0,tabSize:4}})})})]})]})}}]),i}(a.a.Component),J=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).state={isOptionModalShow:!1},n}return Object(o.a)(i,[{key:"setDisplayOptionModal",value:function(e){this.setState({isOptionModalShow:e})}},{key:"render",value:function(){return Object(W.jsxs)(H.a,{onHide:this.setDisplayOptionModal.bind(this,!1),show:this.state.isOptionModalShow,size:"lg","aria-labelledby":"option-modal",centered:!0,children:[Object(W.jsx)(H.a.Header,{closeButton:!0,children:Object(W.jsx)(H.a.Title,{id:"option-modal",children:"Advanced Options"})}),Object(W.jsx)(H.a.Body,{children:this.props.children}),Object(W.jsxs)(H.a.Footer,{children:[Object(W.jsx)(F.a,{variant:"outline-secondary",onClick:this.props.clearOptionFieldForm,children:"Clear"}),Object(W.jsx)(F.a,{variant:"outline-primary",onClick:this.props.resetOptionFiledForm,children:"Reset"}),Object(W.jsx)(F.a,{variant:"outline-success",onClick:this.setDisplayOptionModal.bind(this,!1),children:"Close"})]})]})}}]),i}(a.a.Component),K=i(160),$=i(163),z=i(155),Y=i(64),Q=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(l.a)(this,i),n=t.call(this,e);var r=e.schemaType.getDefaultField();return n.state={currentField:r,isRequiredFieldReadonly:S(n.props.options.isRequiredFieldReadonly,!1),isNameFieldReadonly:S(n.props.options.isNameFieldReadonly,!1),isDescriptionModalShow:!1,isCommentFieldShow:!1},n}return Object(o.a)(i,[{key:"recordField",value:function(e,t){var i=this.props.schemaType.recordField(e,t);this.setState({currentField:i})}},{key:"changeType",value:function(e){e.preventDefault();var t=e.target.value;Object.values(n).includes(t)&&this.props.changeType(t)}},{key:"changeName",value:function(e){this.recordField("name",e),this.props.changeName&&this.props.changeName()}},{key:"setDisplayDescriptionModal",value:function(e){this.setState({isDescriptionModalShow:e})}},{key:"render",value:function(){return Object(W.jsx)(K.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:3,children:Object(W.jsxs)(E.a,{children:[Object(W.jsx)($.a,{trigger:["hover","focus"],overlay:Object(W.jsx)(z.a,{id:"add-tooltip",children:" Required "}),children:Object(W.jsx)(E.a.Prepend,{children:Object(W.jsx)(E.a.Checkbox,{checked:this.state.currentField.required,disabled:this.state.isRequiredFieldReadonly,onChange:this.recordField.bind(this,"required")})})}),Object(W.jsx)(w.a.Control,{placeholder:"items",readOnly:this.state.isNameFieldReadonly,value:this.state.currentField.name,onChange:this.changeName.bind(this)})]})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsxs)(w.a.Control,{as:"select",custom:!0,placeholder:"DataType",onChange:this.changeType.bind(this),value:this.state.currentField.type,children:[Object(W.jsx)("option",{value:n.Object,children:"Object"}),Object(W.jsx)("option",{value:n.Array,children:"Array"}),Object(W.jsx)("option",{value:n.String,children:"String"}),Object(W.jsx)("option",{value:n.Integer,children:"Integer"}),Object(W.jsx)("option",{value:n.Number,children:"Number"}),Object(W.jsx)("option",{value:n.Null,children:"Null"}),Object(W.jsx)("option",{value:n.Boolean,children:"Boolean"})]})}),Object(W.jsx)(D.a,{lg:4,children:Object(W.jsx)(w.a.Control,{placeholder:"Titile",value:this.state.currentField.title,onChange:this.recordField.bind(this,"title")})}),Object(W.jsxs)(D.a,{lg:4,children:[Object(W.jsxs)(E.a,{children:[Object(W.jsx)(V.a,{type:"text",id:"Description",placeholder:"Description",value:this.state.currentField.description,onChange:this.recordField.bind(this,"description")}),Object(W.jsx)($.a,{trigger:["hover","focus"],overlay:Object(W.jsx)(z.a,{id:"add-tooltip",children:" Edit "}),children:Object(W.jsx)(E.a.Append,{children:Object(W.jsx)(F.a,{variant:"outline-primary",onClick:this.setDisplayDescriptionModal.bind(this,!0),children:Object(W.jsx)(q.a,{})})})})]}),Object(W.jsxs)(H.a,{onHide:this.setDisplayDescriptionModal.bind(this,!1),show:this.state.isDescriptionModalShow,size:"lg","aria-labelledby":"description-modal",centered:!0,children:[Object(W.jsx)(H.a.Header,{closeButton:!0,children:Object(W.jsx)(H.a.Title,{id:"description-modal",children:"Description"})}),Object(W.jsx)(H.a.Body,{children:Object(W.jsx)(w.a.Group,{children:Object(W.jsx)(w.a.Control,{as:"textarea",rows:3,value:this.state.currentField.description,onChange:this.recordField.bind(this,"description")})})})]})]}),Object(W.jsx)(D.a,{lg:12,style:{paddingTop:"5px"},children:Object(W.jsx)(K.a.Collapse,{eventKey:"0",children:Object(W.jsx)(w.a.Control,{placeholder:"$comment",value:this.state.currentField.$comment,onChange:this.recordField.bind(this,"$comment")})})})]})}),Object(W.jsx)(D.a,{lg:"auto",style:{cursor:"pointer"},children:Object(W.jsx)(K.a.Toggle,{eventKey:"0",as:"span",className:"node-option-block",children:Object(W.jsx)(Y.a,{color:"blue"})})})]})})}}]),i}(a.a.Component),Z=i(24),ee=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"renderHint",value:function(){var e=[];if(this.props.hint){var t,i=this.props.hint.getAll();for(t in i)if(void 0!==i[t])switch(t){case"info":e.push.apply(e,Object(Z.a)(i[t].map((function(e){return Object(W.jsxs)("span",{style:{color:"green"},children:[Object(W.jsx)("b",{children:"Hint: "}),e]},y.next())}))));break;case"warn":e.push.apply(e,Object(Z.a)(i[t].map((function(e){return Object(W.jsxs)("span",{style:{color:"orange"},children:[Object(W.jsx)("b",{children:"Warn: "}),e]},y.next())})))),e.push(Object(W.jsx)("br",{}));break;case"error":e.push.apply(e,Object(Z.a)(i[t].map((function(e){return Object(W.jsxs)("span",{style:{color:"red"},children:[Object(W.jsx)("b",{children:"Error: "}),e]},y.next())})))),e.push(Object(W.jsx)("br",{}))}}return e}},{key:"render",value:function(){return this.props.hint?Object(W.jsx)(W.Fragment,{children:this.renderHint()}):Object(W.jsx)(W.Fragment,{})}}]),i}(a.a.Component),te=i(158),ie=i(31),ne=a.a.forwardRef((function(e,t){return Object(W.jsx)("span",{ref:t,id:e.id,onClick:e.onClick,children:Object(W.jsx)(ie.b,{color:"green"})})}));ne.displayName="ToggleAddButton";var re=function(e){if(e.buttonOptions.hasChild&&!e.addChild)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.hasChild = true, without addChild()");if(e.buttonOptions.hasSibling&&!e.addSibling)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.hasSibling = true, without addSibling()");if(e.buttonOptions.isDeleteable&&!e.delete)throw new Error("Bad arguments to create NodeOptionsButtons: Provide buttonOptions.isDeleteable = true, without delete()");var t=y.next("Key").toString(),i=y.next("Key").toString();return Object(W.jsxs)("div",{className:"node-option-block",children:[e.buttonOptions.hasChild&&e.buttonOptions.hasSibling&&Object(W.jsx)("div",{className:"node-option-btn-block",children:Object(W.jsxs)(te.a,{children:[Object(W.jsx)(te.a.Toggle,{as:ne,id:t}),Object(W.jsxs)(te.a.Menu,{children:[Object(W.jsx)(te.a.Item,{href:"#",eventKey:"1",onClick:e.addSibling,children:"Add Sibling"}),Object(W.jsx)(te.a.Item,{href:"#",eventKey:"2",onClick:e.addChild,children:"Add Child"})]})]})}),e.buttonOptions.hasChild!==e.buttonOptions.hasSibling&&Object(W.jsx)("div",{className:"node-option-btn-block",onClick:e.buttonOptions.hasChild?e.addChild:e.addSibling,children:Object(W.jsx)($.a,{trigger:["hover","focus"],overlay:Object(W.jsx)(z.a,{id:i,children:" Add "}),children:Object(W.jsx)("span",{children:Object(W.jsx)(ie.b,{color:"green"})})})}),e.buttonOptions.isDeleteable&&Object(W.jsx)("div",{className:"node-option-btn-block",onClick:e.delete,children:Object(W.jsx)($.a,{trigger:["hover","focus"],overlay:Object(W.jsx)(z.a,{id:"delete-tooltip",children:" Delete "}),children:Object(W.jsx)("span",{children:Object(W.jsx)(ie.c,{color:"red"})})})}),e.buttonOptions.isOptionExist&&Object(W.jsx)("div",{className:"node-option-btn-block",onClick:e.showOptionModal,children:Object(W.jsx)($.a,{trigger:["hover","focus"],overlay:Object(W.jsx)(z.a,{id:"option-tooltip",children:" Option "}),children:Object(W.jsx)("span",{children:Object(W.jsx)(Y.b,{})})})})]})};var ae,se,ce,le,oe,de,he=function(e){return Object(W.jsx)(D.a,{lg:"auto",className:"px-0 mx-0",style:{width:(15*e.depth).toString()+"px"}})},ue=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;Object(l.a)(this,i),n=t.call(this,e);var r=S(e.childrenProperty,[]);return n.state={children:r,hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.props.childrenDidUpdate&&this.props.childrenDidUpdate(this.state.children),this.checkDuplicateChildrenName()}},{key:"componentDidUpdate",value:function(){this.props.childrenDidUpdate&&this.props.childrenDidUpdate(this.state.children),this.checkDuplicateChildrenName()}},{key:"length",get:function(){return this.state.children.length}},{key:"exportSchema",value:function(){if(this.state.hint.getError().length>0)throw new Error(JSON.stringify(this.state.hint.getError()));return this.state.children.map((function(e){var t=e.ref.current;return{name:t.getField().name,value:t.exportSchema(),required:t.getField().required}}))}},{key:"add",value:function(e,t){var i,r=this.state.children,s={type:n.Object,isDeleteable:!0,hasSibling:!0,isRequiredFieldReadonly:!1,isNameFieldReadonly:!1};t&&(s=Object(g.a)(Object(g.a)({},s),t)),i=void 0===e||""===e?r.length+1:r.findIndex((function(t){return t.selfId===e})),r.splice(i+1,0,Object(g.a)(Object(g.a)({selfId:y.next("child").toString()},s),{},{ref:a.a.createRef()})),this.setState({children:r})}},{key:"delete",value:function(e){var t=this.state.children,i=t.findIndex((function(t){return t.selfId===e}));t.splice(i,1),this.setState({children:t})}},{key:"checkDuplicateChildrenName",value:function(){this.findNameDuplicate()?this.addHint(C.DUPLICATED_FIELD_NAME):this.removeHint(C.DUPLICATED_FIELD_NAME)}},{key:"changeType",value:function(e,t){this.setState((function(i){return{children:i.children.map((function(i){return i.selfId===e?Object(g.a)(Object(g.a)({},i),{},{selfId:y.next("child").toString(),type:t}):i}))}}))}},{key:"findNameDuplicate",value:function(){if(this.props.isNameUnique){var e=this.state.children.map((function(e){return e.ref.current.schema.getCurrentField().name}));return new Set(e).size!==e.length}return!1}},{key:"addHint",value:function(e){var t=this.state.hint.getAll();this.state.hint.add(e);var i=!1;P.isWarnText(e)?void 0!==t.warn&&N(this.state.hint.getWarn(),t.warn)||(i=!0):P.isInfoText(e)?void 0!==t.info&&N(this.state.hint.getInfo(),t.info)||(i=!0):void 0!==t.error&&N(this.state.hint.getError(),t.error)||(i=!0),i&&this.setState({hint:this.state.hint})}},{key:"removeHint",value:function(e){var t=this.state.hint.getAll();this.state.hint.remove(e);var i=!1;P.isWarnText(e)?void 0===t.warn||N(this.state.hint.getWarn(),t.warn)||(i=!0):P.isInfoText(e)?void 0===t.info||N(this.state.hint.getInfo(),t.info)||(i=!0):void 0===t.error||N(this.state.hint.getError(),t.error)||(i=!0),i&&this.setState({hint:this.state.hint})}},{key:"render",value:function(){var e=this;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),this.state.children.map((function(t){return Object(W.jsx)(Ie,Object(g.a)(Object(g.a)({depth:e.props.depth+1},t),{},{delete:e.delete.bind(e,t.selfId),addSibling:e.add.bind(e,t.selfId),changeType:e.changeType.bind(e,t.selfId),changeName:e.checkDuplicateChildrenName.bind(e)}),t.selfId)}))]})}}]),i}(a.a.Component),pe=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(l.a)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).optionsButtonsAttr=void 0,e.genericFieldOptions=void 0,e.schema=void 0,e.optionModalRef=void 0,e.genericFieldRef=void 0,e.childrenRef=void 0,e}return Object(o.a)(i,[{key:"addChild",value:function(){this.childrenRef&&this.childrenRef.current&&this.childrenRef.current.add()}},{key:"addSibling",value:function(){this.props.addSibling&&this.props.addSibling()}},{key:"delete",value:function(){this.props.delete&&this.props.delete()}},{key:"getField",value:function(){return this.schema.getCurrentField()}},{key:"recordField",value:function(e,t){var i=this.schema.recordField(e,t);this.setState({currentField:i})}},{key:"showOptionModal",value:function(){this.optionModalRef&&this.optionModalRef.current&&this.optionModalRef.current.setDisplayOptionModal(!0)}},{key:"clearOptionField",value:function(){var e=this.schema.clearOptionField();this.setState({currentField:e})}},{key:"resetOptionField",value:function(){var e=this.schema.resetOptionField();this.setState({currentField:e})}},{key:"addHint",value:function(e){var t=this.state.hint.getAll();this.state.hint.add(e);var i=!1;P.isWarnText(e)?void 0!==t.warn&&N(this.state.hint.getWarn(),t.warn)||(i=!0):P.isInfoText(e)?void 0!==t.info&&N(this.state.hint.getInfo(),t.info)||(i=!0):void 0!==t.error&&N(this.state.hint.getError(),t.error)||(i=!0),i&&this.setState({hint:this.state.hint})}},{key:"removeHint",value:function(e){var t=this.state.hint.getAll();this.state.hint.remove(e);var i=!1;e in k?void 0===t.warn||N(this.state.hint.getWarn(),t.warn)||(i=!0):e in R?void 0===t.info||N(this.state.hint.getInfo(),t.info)||(i=!0):void 0===t.error||N(this.state.hint.getError(),t.error)||(i=!0),i&&this.setState({hint:this.state.hint})}}]),i}(a.a.Component),me=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.childrenRef=void 0,n.childrenLength=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.childrenRef=a.a.createRef(),n.schema=new G(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!0,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.childrenLength=0,n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.props.schema||this.addChild(),this.state.currentField.maxItems<this.state.currentField.minItems&&this.addHint(k.MIN_GT_MAX_ITEMS)}},{key:"componentDidUpdate",value:function(e,t){(t.currentField.maxItems===this.state.currentField.maxItems||isNaN(t.currentField.maxItems)&&isNaN(this.state.currentField.maxItems))&&(t.currentField.minItems===this.state.currentField.minItems||isNaN(t.currentField.minItems)&&isNaN(this.state.currentField.minItems))||(this.state.currentField.maxItems<this.state.currentField.minItems?this.addHint(k.MIN_GT_MAX_ITEMS):this.removeHint(k.MIN_GT_MAX_ITEMS))}},{key:"childrenDidUpdate",value:function(e){this.childrenLength!==e.length&&(e.length>1?this.addHint(R.ARRAY_ITEM_INDEX_MATTER):this.removeHint(R.ARRAY_ITEM_INDEX_MATTER),this.childrenLength=e.length)}},{key:"addChild",value:function(){this.childrenRef.current.add("",{type:n.Object,isDeleteable:!0,hasSibling:!0,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,field:{name:"items",required:!0}})}},{key:"exportSchema",value:function(){return this.schema.exportSchema(this.childrenRef.current.exportSchema())}},{key:"recordCode",value:function(e,t){var i=this.schema.recordCode(e,t);this.setState({currentField:i});try{JSON.parse(t),this.removeHint(C.CANT_PARSE_JSON_CONST)}catch(n){this.addHint(C.CANT_PARSE_JSON_CONST)}}},{key:"render",value:function(){return Object(W.jsxs)("div",{className:"my-1",children:[Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsxs)(w.a,{children:[Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MinItems",children:"Min Items"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MinItems",value:this.state.currentField.minItems,onChange:this.recordField.bind(this,"minItems")})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MaxItems",children:"Max Items"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MaxItems",value:this.state.currentField.maxItems,onChange:this.recordField.bind(this,"maxItems")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"Constant",children:"Constant"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(E.a,{children:Object(W.jsx)(X,{title:"Array constant",value:this.state.currentField.const,update:this.recordCode.bind(this,"const")})})})]}),Object(W.jsx)(w.a.Group,{children:Object(W.jsxs)(w.a.Check,{type:"checkbox",id:"uniqueCheckbox",children:[Object(W.jsx)(w.a.Check.Input,{type:"checkbox",checked:this.state.currentField.uniqueItems,onChange:this.recordField.bind(this,"uniqueItems")}),Object(W.jsx)(w.a.Check.Label,{children:"Unique Items"})]})})]})})]})})]})]}),Object(W.jsx)(ue,{ref:this.childrenRef,depth:this.props.depth,isNameUnique:!1,childrenProperty:this.schema.childrenProperty,childrenDidUpdate:this.childrenDidUpdate.bind(this)})]})}}]),i}(pe),je=(ae=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Boolean,a.currentField=void 0,a.defaultField=void 0;var s=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},s),{},{default:a.retrieveDefaultOptionValue("default",void 0,e),const:a.retrieveDefaultOptionValue("const",void 0,e)}),a.currentField=Object(g.a)({},a.defaultField),a}return Object(o.a)(i,[{key:"isSelectElement",value:function(e){return void 0!==e.target.selectedIndex}},{key:"recordField",value:function(e,t){return!this.isSelectElement(t)||"default"!==e&&"const"!==e?this.isSelectElement(t)||_.prototype.recordField.call(this,e,t):this.currentField[e]="true"===t.target.value.toLowerCase(),this.currentField}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=void 0,this.currentField}},{key:"exportSchema",value:function(){var e=n.Boolean,t=this.getGenericSchemaFromField(this.currentField),i=this.exportSchemaWithoutUndefined("default",void 0),r=this.exportSchemaWithoutUndefined("const",void 0);return Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),i),r)}}]),i}(_),Object(L.a)(ae.prototype,"recordField",[M],Object.getOwnPropertyDescriptor(ae.prototype,"recordField"),ae.prototype),Object(L.a)(ae.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(ae.prototype,"resetOptionField"),ae.prototype),Object(L.a)(ae.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(ae.prototype,"clearOptionField"),ae.prototype),ae),be=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.schema=new je(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"render",value:function(){return Object(W.jsx)("div",{className:"my-1",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"default",children:"Default"}),Object(W.jsx)(D.a,{lg:4,children:Object(W.jsxs)(w.a.Control,{as:"select",custom:!0,onChange:this.recordField.bind(this,"default"),value:void 0===this.state.currentField.default?"undefined":this.state.currentField.default.toString(),children:[Object(W.jsx)("option",{disabled:!0,hidden:!0,selected:void 0===this.state.currentField.default,value:"undefined",children:" "}),Object(W.jsx)("option",{value:"true",children:"True"}),Object(W.jsx)("option",{value:"false",children:"False"})]})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(W.jsx)(D.a,{lg:4,children:Object(W.jsxs)(w.a.Control,{as:"select",custom:!0,onChange:this.recordField.bind(this,"const"),value:void 0===this.state.currentField.const?"undefined":this.state.currentField.const.toString(),children:[Object(W.jsx)("option",{disabled:!0,hidden:!0,selected:void 0===this.state.currentField.const,value:"undefined",children:" "}),Object(W.jsx)("option",{value:"true",children:"True"}),Object(W.jsx)("option",{value:"false",children:"False"})]})})]})})})]})})]})]})})}}]),i}(pe),Oe=(se=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Integer,a.currentField=void 0,a.defaultField=void 0;var s,c,o,d,h=a.getGenericFieldFromSchema(e,r);return e?(e.minimum?(s=e.minimum,o=!1):e.exclusiveMinimum?(s=e.exclusiveMinimum,o=!0):(s=NaN,o=!1),e.maximum?(c=e.maximum,d=!1):e.exclusiveMaximum?(c=e.exclusiveMaximum,d=!0):(c=NaN,d=!1)):(s=c=NaN,o=d=!1),a.defaultField=Object(g.a)(Object(g.a)({},h),{},{default:a.retrieveDefaultOptionValue("default",NaN,e),const:a.retrieveDefaultOptionValue("const",NaN,e),enum:a.retrieveDefaultOptionValue("enum",[],e),multipleOf:a.retrieveDefaultOptionValue("multipleOf",NaN,e),minimum:s,maximum:c,exclusiveMinimum:o,exclusiveMaximum:d}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(Z.a)(a.defaultField.enum)}),a}return Object(o.a)(i,[{key:"addEnum",value:function(){this.currentField.enum.push(NaN)}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=parseInt(t.target.value)}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(Z.a)(this.defaultField.enum),this.currentField.minimum=this.defaultField.minimum,this.currentField.maximum=this.defaultField.maximum,this.currentField.exclusiveMinimum=this.defaultField.exclusiveMinimum,this.currentField.exclusiveMaximum=this.defaultField.exclusiveMaximum,this.currentField.multipleOf=this.defaultField.multipleOf,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=NaN,this.currentField.const=NaN,this.currentField.enum=[],this.currentField.minimum=NaN,this.currentField.maximum=NaN,this.currentField.exclusiveMinimum=!1,this.currentField.exclusiveMaximum=!1,this.currentField.multipleOf=NaN,this.currentField}},{key:"exportSchema",value:function(){var e=n.Integer,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return!isNaN(e)})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",NaN),s=this.exportSchemaWithoutUndefined("const",NaN),c=this.exportSchemaWithoutUndefined("multipleOf",NaN),l={},o={};return isNaN(this.currentField.minimum)||(l=this.currentField.exclusiveMinimum?{exclusiveMinimum:this.currentField.minimum}:{minimum:this.currentField.minimum}),isNaN(this.currentField.maximum)||(o=this.currentField.exclusiveMaximum?{exclusiveMaximum:this.currentField.maximum}:{maximum:this.currentField.maximum}),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),l),o),a),s),c),r)}}]),i}(_),Object(L.a)(se.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(se.prototype,"resetOptionField"),se.prototype),Object(L.a)(se.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(se.prototype,"clearOptionField"),se.prototype),se),fe=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var e=this;return Object(W.jsx)(w.a.Group,{children:this.props.value.length>0?this.props.value.map((function(t,i){return Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:0===i?"Enum":""}),Object(W.jsx)(D.a,{lg:e.props.width,children:i===e.props.value.length-1?Object(W.jsxs)(E.a,{children:[Object(W.jsx)(V.a,{type:e.props.type,id:i.toString(),onChange:e.props.update.bind(e,i),value:t}),Object(W.jsx)(E.a.Append,{children:Object(W.jsx)(F.a,{variant:"outline-danger",onClick:e.props.delete.bind(e,i),children:Object(W.jsx)(ie.a,{})})}),Object(W.jsx)(E.a.Append,{children:Object(W.jsx)(F.a,{variant:"outline-success",onClick:e.props.add,children:Object(W.jsx)(ie.b,{})})})]}):Object(W.jsxs)(E.a,{children:[Object(W.jsx)(V.a,{type:e.props.type,id:i.toString(),onChange:e.props.update.bind(e,i),value:t}),Object(W.jsx)(E.a.Append,{children:Object(W.jsx)(F.a,{variant:"outline-danger",onClick:e.props.delete.bind(e,i),children:Object(W.jsx)(ie.a,{})})})]})})]},i)})):Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Enum"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(I.a,{children:Object(W.jsx)(D.a,{lg:"12",children:Object(W.jsx)(F.a,{variant:"outline-success",onClick:this.props.add.bind(this),children:Object(W.jsx)(ie.b,{color:"green"})})})})})]})})}}]),i}(a.a.Component),xe=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.schema=new Oe(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.state.currentField.minimum>this.state.currentField.maximum&&this.addHint(k.MIN_GT_MAX_VALUE)}},{key:"componentDidUpdate",value:function(e,t){(t.currentField.minimum===this.state.currentField.minimum||isNaN(t.currentField.minimum)&&isNaN(this.state.currentField.minimum))&&(t.currentField.maximum===this.state.currentField.maximum||isNaN(t.currentField.maximum)&&isNaN(this.state.currentField.maximum))||(this.state.currentField.maximum<this.state.currentField.minimum?this.addHint(k.MIN_GT_MAX_VALUE):this.removeHint(k.MIN_GT_MAX_VALUE))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(W.jsx)("div",{className:"my-1",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsxs)(w.a,{children:[Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"MinValue",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Min Value"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",value:this.state.currentField.minimum,onChange:this.recordField.bind(this,"minimum")})}),Object(W.jsx)(D.a,{lg:"6",children:Object(W.jsx)(w.a.Check,{id:"ExclusiveMin",inline:!0,onChange:this.recordField.bind(this,"exclusiveMinimum"),checked:!!this.state.currentField.exclusiveMinimum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"MaxValue",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Max Value"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",value:this.state.currentField.maximum,onChange:this.recordField.bind(this,"maximum")})}),Object(W.jsx)(D.a,{lg:"6",children:Object(W.jsx)(w.a.Check,{id:"ExclusiveMax",inline:!0,onChange:this.recordField.bind(this,"exclusiveMaximum"),checked:!!this.state.currentField.exclusiveMaximum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf",children:"Multiple Of"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"MultipleOf",value:this.state.currentField.multipleOf,onChange:this.recordField.bind(this,"multipleOf")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"const",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(W.jsx)(fe,{width:4,type:"number",value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(pe),Fe=(ce=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Null,a.currentField=void 0,a.defaultField=void 0;var s=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)({},s),a.currentField=Object(g.a)({},a.defaultField),a}return Object(o.a)(i,[{key:"resetOptionField",value:function(){return this.currentField}},{key:"clearOptionField",value:function(){return this.currentField}},{key:"exportSchema",value:function(){var e=n.Null,t=this.getGenericSchemaFromField(this.currentField);return Object(g.a)({type:e},t)}}]),i}(_),Object(L.a)(ce.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(ce.prototype,"resetOptionField"),ce.prototype),Object(L.a)(ce.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(ce.prototype,"clearOptionField"),ce.prototype),ce),ve=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.genericFieldRef=void 0,n.genericFieldRef=a.a.createRef(),n.schema=new Fe(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!1},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"render",value:function(){return Object(W.jsx)("div",{className:"my-1",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})})]})})]})]})})}}]),i}(pe),ge=(le=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Number,a.currentField=void 0,a.defaultField=void 0;var s,c,o,d,h=a.getGenericFieldFromSchema(e,r);return e?(e.minimum?(s=e.minimum,o=!1):e.exclusiveMinimum?(s=e.exclusiveMinimum,o=!0):(s=NaN,o=!1),e.maximum?(c=e.maximum,d=!1):e.exclusiveMaximum?(c=e.exclusiveMaximum,d=!0):(c=NaN,d=!1)):(s=c=NaN,o=d=!1),a.defaultField=Object(g.a)(Object(g.a)({},h),{},{default:a.retrieveDefaultOptionValue("default",NaN,e),const:a.retrieveDefaultOptionValue("const",NaN,e),enum:a.retrieveDefaultOptionValue("enum",[],e),multipleOf:a.retrieveDefaultOptionValue("multipleOf",NaN,e),minimum:s,maximum:c,exclusiveMinimum:o,exclusiveMaximum:d}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(Z.a)(a.defaultField.enum)}),a}return Object(o.a)(i,[{key:"recordField",value:function(e,t){return"$comment"===e||"description"===e||"name"===e||"title"===e?this.currentField[e]=t.target.value:"const"===e||"default"===e||"maximum"===e||"minimum"===e||"multipleOf"===e?this.currentField[e]=parseFloat(t.target.value):"exclusiveMaximum"!==e&&"exclusiveMinimum"!==e&&"required"!==e||(this.currentField[e]=t.target.checked),this.currentField}},{key:"addEnum",value:function(){this.currentField.enum.push(NaN)}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=parseFloat(t.target.value)}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(Z.a)(this.defaultField.enum),this.currentField.minimum=this.defaultField.minimum,this.currentField.maximum=this.defaultField.maximum,this.currentField.exclusiveMinimum=this.defaultField.exclusiveMinimum,this.currentField.exclusiveMaximum=this.defaultField.exclusiveMaximum,this.currentField.multipleOf=this.defaultField.multipleOf,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default=NaN,this.currentField.const=NaN,this.currentField.enum=[],this.currentField.minimum=NaN,this.currentField.maximum=NaN,this.currentField.exclusiveMinimum=!1,this.currentField.exclusiveMaximum=!1,this.currentField.multipleOf=NaN,this.currentField}},{key:"exportSchema",value:function(){var e=n.Number,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return!isNaN(e)})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",NaN),s=this.exportSchemaWithoutUndefined("const",NaN),c=this.exportSchemaWithoutUndefined("multipleOf",NaN),l={},o={};return isNaN(this.currentField.minimum)||(l=this.currentField.exclusiveMinimum?{exclusiveMinimum:this.currentField.minimum}:{minimum:this.currentField.minimum}),isNaN(this.currentField.maximum)||(o=this.currentField.exclusiveMaximum?{exclusiveMaximum:this.currentField.maximum}:{maximum:this.currentField.maximum}),Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),l),o),a),s),c),r)}}]),i}(_),Object(L.a)(le.prototype,"recordField",[M],Object.getOwnPropertyDescriptor(le.prototype,"recordField"),le.prototype),Object(L.a)(le.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(le.prototype,"resetOptionField"),le.prototype),Object(L.a)(le.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(le.prototype,"clearOptionField"),le.prototype),le),ye=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.schema=new ge(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.state.currentField.minimum>this.state.currentField.maximum&&this.addHint(k.MIN_GT_MAX_VALUE)}},{key:"componentDidUpdate",value:function(e,t){(t.currentField.minimum===this.state.currentField.minimum||isNaN(t.currentField.minimum)&&isNaN(this.state.currentField.minimum))&&(t.currentField.maximum===this.state.currentField.maximum||isNaN(t.currentField.maximum)&&isNaN(this.state.currentField.maximum))||(this.state.currentField.maximum<this.state.currentField.minimum?this.addHint(k.MIN_GT_MAX_VALUE):this.removeHint(k.MIN_GT_MAX_VALUE))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(W.jsx)("div",{className:"my-1",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsxs)(w.a,{children:[Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"MinValue",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Min Value"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",value:this.state.currentField.minimum,onChange:this.recordField.bind(this,"minimum")})}),Object(W.jsx)(D.a,{lg:"6",children:Object(W.jsx)(w.a.Check,{id:"ExclusiveMin",inline:!0,onChange:this.recordField.bind(this,"exclusiveMinimum"),checked:!!this.state.currentField.exclusiveMinimum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"MaxValue",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Max Value"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",value:this.state.currentField.maximum,onChange:this.recordField.bind(this,"maximum")})}),Object(W.jsx)(D.a,{lg:"6",children:Object(W.jsx)(w.a.Check,{id:"ExclusiveMax",inline:!0,onChange:this.recordField.bind(this,"exclusiveMaximum"),checked:!!this.state.currentField.exclusiveMaximum,label:"Exclusive",type:"checkbox",style:{height:"100%"}})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MultipleOf",children:"Multiple Of"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"MultipleOf",value:this.state.currentField.multipleOf,onChange:this.recordField.bind(this,"multipleOf")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"const",children:"Constant"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",id:"const",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(W.jsx)(fe,{type:"number",width:4,value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(pe),Ne=i(99),Se=(oe=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.Object,a.currentField=void 0,a.defaultField=void 0,a.childrenProperty=void 0;var s=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},s),{},{const:e&&e.const?JSON.stringify(e.const,null,4):"{}",maxProperties:a.retrieveDefaultOptionValue("maxProperties",NaN,e),minProperties:a.retrieveDefaultOptionValue("minProperties",NaN,e)}),a.currentField=Object(g.a)({},a.defaultField),e&&(a.childrenProperty=a.generateChildrenPropertyFromSchema(e)),a}return Object(o.a)(i,[{key:"recordCode",value:function(e,t){return this.currentField.const=t,this.currentField}},{key:"generateChildrenPropertyFromSchema",value:function(e){return Object.keys(e.properties).map((function(t){return{type:e.properties[t].type,selfId:y.next("child").toString(),hasSibling:!0,isDeleteable:!0,isRequiredFieldReadonly:!1,isNameFieldReadonly:!1,ref:a.a.createRef(),field:{name:t,required:void 0!==e.required.find((function(e){return e===t}))},schema:e.properties[t]}}))}},{key:"resetOptionField",value:function(){return this.currentField.maxProperties=this.defaultField.maxProperties,this.currentField.minProperties=this.defaultField.minProperties,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.maxProperties=NaN,this.currentField.minProperties=NaN,this.currentField}},{key:"exportSchema",value:function(e){var t=n.Object,i=this.getGenericSchemaFromField(this.currentField),r=this.exportSchemaWithoutUndefined("maxProperties",NaN),a=this.exportSchemaWithoutUndefined("minProperties",NaN),s={};s.const=JSON.parse(this.currentField.const.replace(/\s/g,""));var c=[],l={};if(e){var o,d=Object(Ne.a)(e);try{for(d.s();!(o=d.n()).done;){var h=o.value;l[h.name]=h.value,h.required&&c.push(h.name)}}catch(u){d.e(u)}finally{d.f()}}return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:t},i),a),r),{},{required:c,properties:l},s)}}]),i}(_),Object(L.a)(oe.prototype,"recordCode",[M],Object.getOwnPropertyDescriptor(oe.prototype,"recordCode"),oe.prototype),Object(L.a)(oe.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(oe.prototype,"resetOptionField"),oe.prototype),Object(L.a)(oe.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(oe.prototype,"clearOptionField"),oe.prototype),oe),Me=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.childrenRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.childrenRef=a.a.createRef(),n.schema=new Se(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!0,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.state.currentField.maxProperties<this.state.currentField.minProperties&&this.addHint(k.MIN_GT_MAX_PROPERTIES)}},{key:"componentDidUpdate",value:function(e,t){(t.currentField.maxProperties===this.state.currentField.maxProperties||isNaN(t.currentField.maxProperties)&&isNaN(this.state.currentField.maxProperties))&&(t.currentField.minProperties===this.state.currentField.minProperties||isNaN(t.currentField.minProperties)&&isNaN(this.state.currentField.minProperties))||(this.state.currentField.maxProperties<this.state.currentField.minProperties?this.addHint(k.MIN_GT_MAX_PROPERTIES):this.removeHint(k.MIN_GT_MAX_PROPERTIES))}},{key:"exportSchema",value:function(){return this.schema.exportSchema(this.childrenRef.current.exportSchema())}},{key:"recordCode",value:function(e,t){var i=this.schema.recordCode(e,t);this.setState({currentField:i});try{JSON.parse(t),this.removeHint(C.CANT_PARSE_JSON_CONST)}catch(n){this.addHint(C.CANT_PARSE_JSON_CONST)}}},{key:"render",value:function(){return Object(W.jsxs)("div",{className:"my-1",children:[Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsxs)(w.a,{children:[Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"auto",htmlFor:"MinProperties",children:"Min Properties"}),Object(W.jsx)(D.a,{children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MinProperties",value:this.state.currentField.minProperties,onChange:this.recordField.bind(this,"minProperties")})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"auto",htmlFor:"MaxProperties",children:"Max Properties"}),Object(W.jsx)(D.a,{children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MaxProperties",value:this.state.currentField.maxProperties,onChange:this.recordField.bind(this,"maxProperties")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"Constant",children:"Constant"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(E.a,{children:Object(W.jsx)(X,{title:"Object constant",value:this.state.currentField.const,update:this.recordCode.bind(this,"const")})})})]})]})})]})})]})]}),Object(W.jsx)(ue,{ref:this.childrenRef,depth:this.props.depth,isNameUnique:!0,childrenProperty:this.schema.childrenProperty})]})}}]),i}(pe),Ce=(de=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e,r){var a;Object(l.a)(this,i),(a=t.call(this)).type=n.String,a.currentField=void 0,a.defaultField=void 0;var s=a.getGenericFieldFromSchema(e,r);return a.defaultField=Object(g.a)(Object(g.a)({},s),{},{default:a.retrieveDefaultOptionValue("default","",e),const:a.retrieveDefaultOptionValue("const","",e),enum:a.retrieveDefaultOptionValue("enum",[],e),minLength:a.retrieveDefaultOptionValue("minLength",NaN,e),maxLength:a.retrieveDefaultOptionValue("maxLength",NaN,e),format:a.retrieveDefaultOptionValue("format","",e),pattern:a.retrieveDefaultOptionValue("pattern","",e)}),a.currentField=Object(g.a)(Object(g.a)({},a.defaultField),{},{enum:Object(Z.a)(a.defaultField.enum)}),a}return Object(o.a)(i,[{key:"addEnum",value:function(){this.currentField.enum.push("")}},{key:"updateEnum",value:function(e,t){this.currentField.enum[e]=t.target.value}},{key:"deleteEnum",value:function(e){this.currentField.enum.splice(e,1)}},{key:"resetOptionField",value:function(){return this.currentField.default=this.defaultField.default,this.currentField.const=this.defaultField.const,this.currentField.enum=Object(Z.a)(this.defaultField.enum),this.currentField.minLength=this.defaultField.minLength,this.currentField.maxLength=this.defaultField.maxLength,this.currentField.format=this.defaultField.format,this.currentField.pattern=this.defaultField.pattern,this.currentField}},{key:"clearOptionField",value:function(){return this.currentField.default="",this.currentField.const="",this.currentField.enum=[],this.currentField.minLength=NaN,this.currentField.maxLength=NaN,this.currentField.format="",this.currentField.pattern="",this.currentField}},{key:"exportSchema",value:function(){var e=n.String,t=this.getGenericSchemaFromField(this.currentField),i=this.currentField.enum.filter((function(e){return""!==e})),r=i.length>0?{enum:i}:{},a=this.exportSchemaWithoutUndefined("default",""),s=this.exportSchemaWithoutUndefined("const",""),c=this.exportSchemaWithoutUndefined("minLength",NaN),l=this.exportSchemaWithoutUndefined("maxLength",NaN),o=this.exportSchemaWithoutUndefined("format",""),d=this.exportSchemaWithoutUndefined("pattern","");return Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)(Object(g.a)({type:e},t),a),s),c),l),r),o),d)}}]),i}(_),Object(L.a)(de.prototype,"resetOptionField",[M],Object.getOwnPropertyDescriptor(de.prototype,"resetOptionField"),de.prototype),Object(L.a)(de.prototype,"clearOptionField",[M],Object.getOwnPropertyDescriptor(de.prototype,"clearOptionField"),de.prototype),de),ke=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).optionsButtonsAttr=void 0,n.genericFieldOptions=void 0,n.schema=void 0,n.optionModalRef=void 0,n.genericFieldRef=void 0,n.optionModalRef=a.a.createRef(),n.genericFieldRef=a.a.createRef(),n.schema=new Ce(e.schema,e.field),n.optionsButtonsAttr=Object(g.a)({hasChild:!1,hasSibling:!0,isDeleteable:!0,isOptionExist:!0},e),n.genericFieldOptions=Object(g.a)({},e),n.state={currentField:n.schema.getDefaultField(),hint:new P},n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.state.currentField.minLength>this.state.currentField.maxLength&&this.addHint(k.MIN_GT_MAX_LENGTH)}},{key:"componentDidUpdate",value:function(e,t){(t.currentField.minLength===this.state.currentField.minLength||isNaN(t.currentField.minLength)&&isNaN(this.state.currentField.minLength))&&(t.currentField.maxLength===this.state.currentField.maxLength||isNaN(t.currentField.maxLength)&&isNaN(this.state.currentField.maxLength))||(this.state.currentField.minLength>this.state.currentField.maxLength?this.addHint(k.MIN_GT_MAX_LENGTH):this.removeHint(k.MIN_GT_MAX_LENGTH))}},{key:"exportSchema",value:function(){return this.schema.exportSchema()}},{key:"updateEnum",value:function(e,t){void 0===e&&void 0===t?this.schema.addEnum():void 0!==e&&void 0===t?this.schema.deleteEnum(e):void 0!==e&&void 0!==t&&this.schema.updateEnum(e,t),this.setState({currentField:this.schema.getCurrentField()})}},{key:"render",value:function(){var e=this;return Object(W.jsx)("div",{className:"my-1",children:Object(W.jsxs)(I.a,{children:[Object(W.jsx)(he,{depth:this.props.depth}),Object(W.jsxs)(D.a,{children:[Object(W.jsx)(ee,{hint:this.state.hint}),Object(W.jsx)(w.a,{children:Object(W.jsxs)(w.a.Row,{children:[Object(W.jsx)(D.a,{lg:11,children:Object(W.jsx)(Q,{ref:this.genericFieldRef,schemaType:this.schema,options:this.genericFieldOptions,changeType:this.props.changeType,changeName:this.props.changeName})}),Object(W.jsx)(D.a,{lg:1,children:Object(W.jsx)(re,{buttonOptions:this.optionsButtonsAttr,delete:this.delete.bind(this),addChild:this.addChild.bind(this),addSibling:this.addSibling.bind(this),showOptionModal:this.showOptionModal.bind(this,!0)})}),Object(W.jsx)(J,{clearOptionFieldForm:this.clearOptionField.bind(this),resetOptionFiledForm:this.resetOptionField.bind(this),ref:this.optionModalRef,children:Object(W.jsxs)(w.a,{children:[Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"Default",children:"Default"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(w.a.Control,{type:"text",id:"Default",value:this.state.currentField.default,onChange:this.recordField.bind(this,"default")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MinLength",children:"Min Length"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MinLength",value:this.state.currentField.minLength,onChange:this.recordField.bind(this,"minLength")})}),Object(W.jsx)(w.a.Label,{column:!0,lg:"2",htmlFor:"MaxLength",children:"Max Length"}),Object(W.jsx)(D.a,{lg:"4",children:Object(W.jsx)(w.a.Control,{type:"number",min:"0",id:"MaxLength",value:this.state.currentField.maxLength,onChange:this.recordField.bind(this,"maxLength")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"Format",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Format"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsxs)(w.a.Control,{as:"select",value:this.state.currentField.format,onChange:this.recordField.bind(this,"format"),children:[Object(W.jsx)("option",{disabled:!0,hidden:!0,value:"",children:" "}),["date-time","time","date","email","idn-email","hostname","idn-hostname","ipv4","ipv6","uri","uri-reference","iri","iri-reference","uri-template","json-pointer","relative-json-pointer","regex"].map((function(e,t){return Object(W.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"Pattern",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Pattern"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(w.a.Control,{type:"text",placeholder:"Regular Expression",value:this.state.currentField.pattern,onChange:this.recordField.bind(this,"pattern")})})]}),Object(W.jsxs)(w.a.Group,{as:I.a,controlId:"const",children:[Object(W.jsx)(w.a.Label,{column:!0,lg:"2",children:"Constant"}),Object(W.jsx)(D.a,{lg:"10",children:Object(W.jsx)(w.a.Control,{type:"text",placeholder:"Restricted Value",value:this.state.currentField.const,onChange:this.recordField.bind(this,"const")})})]}),Object(W.jsx)(fe,{type:"text",width:10,value:this.state.currentField.enum,add:function(){return e.updateEnum()},update:this.updateEnum.bind(this),delete:function(t){return e.updateEnum(t)}})]})})]})})]})]})})}}]),i}(pe),Re=a.a.forwardRef((function(e,t){switch(e.type){case n.Array:return Object(W.jsx)(me,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Boolean:return Object(W.jsx)(be,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Integer:return Object(W.jsx)(xe,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Number:return Object(W.jsx)(ye,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Null:return Object(W.jsx)(ve,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.Object:return Object(W.jsx)(Me,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}));case n.String:return Object(W.jsx)(ke,Object(g.a)(Object(g.a)({},Object(g.a)(Object(g.a)({},e),{},{field:e.field,schema:e.schema})),{},{ref:t}))}}));Re.displayName="SchemaEditorFactory";var Ie=Re,De=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var r;return Object(l.a)(this,i),(r=t.call(this,e)).editorRef=void 0,r.editorRef=a.a.createRef(),e.schema?r.state={type:e.schema.type}:r.state={type:n.Object},r}return Object(o.a)(i,[{key:"changeType",value:function(e){this.setState({type:e})}},{key:"changeName",value:function(){console.log("[Root Node] Change Name!!")}},{key:"exportSchema",value:function(){return this.editorRef.current.exportSchema()}},{key:"render",value:function(){return Object(W.jsx)(Ie,{ref:this.editorRef,type:this.state.type,schema:this.props.schema,depth:0,field:{name:"root",required:!0},hasSibling:!1,isDeleteable:!1,isRequiredFieldReadonly:!0,isNameFieldReadonly:!0,changeType:this.changeType.bind(this),changeName:this.changeName.bind(this)})}}]),i}(a.a.Component),we=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(l.a)(this,i),(n=t.call(this,e)).fileUploadRef=void 0,n.editorRef=void 0,n.rootSchemaEditorKey=void 0,n.fileUploadRef=a.a.createRef(),n.editorRef=a.a.createRef(),n.rootSchemaEditorKey=y.next("key").toString(),n.state={},n}return Object(o.a)(i,[{key:"toggleImport",value:function(){this.fileUploadRef.current.click()}},{key:"import",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var i,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=16;break}return e.prev=1,e.next=4,t.target.files[0].text();case 4:i=e.sent,n=JSON.parse(i),(r=new O.a({schemaId:"auto"})).addMetaSchema(f),r.addMetaSchema(x),r.validateSchema(n)?(this.rootSchemaEditorKey=y.next("key").toString(),this.setState({schema:n})):this.setState({error:"Parsing Schema Error! We only support draft-04/06/07"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),this.setState({error:"Parsing Schema Error! Please check your schema."});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"export",value:function(){try{var e=this.editorRef.current.exportSchema(),t=new Blob([JSON.stringify(e,null,4)],{type:"application/schema+json"}),i=window.URL.createObjectURL(t),n=document.createElement("a");n.href=i,n.setAttribute("download","Schema.json"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(r){this.setState({error:"Find Error: ".concat(r.message," Please check and export again.")})}}},{key:"render",value:function(){var e=this;return Object(W.jsxs)("div",{className:"my-3 mx-4 ",children:[Object(W.jsx)("input",{type:"file",id:"file-uploader","data-target":"file-uploader",hidden:!0,ref:this.fileUploadRef,onChange:this.import.bind(this)}),Object(W.jsx)(F.a,{variant:"outline-primary",onClick:this.toggleImport.bind(this),children:"Import from file"})," ",Object(W.jsx)(F.a,{variant:"outline-success",onClick:this.export.bind(this),children:"Export Schema"}),Object(W.jsx)(De,{ref:this.editorRef,schema:this.state.schema},this.rootSchemaEditorKey),this.state.error&&Object(W.jsxs)(v.a,{show:!!this.state.error,onClose:function(){e.setState({error:void 0})},delay:3e3,autohide:!0,style:{position:"absolute",bottom:"20px",right:"20px",borderColor:"red",color:"red"},children:[Object(W.jsx)(v.a.Header,{style:{borderColor:"red",color:"red"},children:Object(W.jsx)("strong",{className:"mr-auto",children:"Error"})}),Object(W.jsx)(v.a.Body,{children:this.state.error})]})]})}}]),i}(a.a.Component),Ee=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){return Object(l.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(u.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:[Object(W.jsx)(u.a.Brand,{href:"",children:"JSON Schema Editor"}),Object(W.jsx)(u.a.Collapse,{className:"justify-content-end",children:Object(W.jsx)(u.a.Text,{children:Object(W.jsx)("a",{href:"https://github.com/JingWangTW/json-schema-editor",target:"_blank",rel:"noopener noreferrer",children:Object(W.jsx)("img",{height:"30px",src:"https://github.com/fluidicon.png",alt:"Github ICON"})})})})]}),Object(W.jsx)(we,{})]})}}]),i}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(Ee,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,i){}},[[149,1,2]]]);
//# sourceMappingURL=main.5e0cbffe.chunk.js.map